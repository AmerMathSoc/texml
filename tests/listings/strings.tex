%% AMS prddvilualatex

\documentclass{amsart}

\csname noTeXMLhistory\endcsname

\nofiles

\usepackage{xcolor}

\usepackage{texml}

\ifTeXML
    \usepackage{Listings}
    \def\str{\XMLelement{str}}
\else
    \usepackage{listings}
    \def\str#1{{\color{green}#1}}
\fi

\title{strings}

\lstset{stringstyle=\str}

\lstset{morestring=[b]"}
\lstset{morestring=[d]'}

\lstset{morestring=[bd]|}

\lstset{ morestring=[s]{qq(}{)} }
\lstset{ morestring=[s]{q(}{)} }

\lstset{ morestring=[s]{qq\{}{\}} }
\lstset{ morestring=[s]{q\{}{\}} }

\begin{document}

\maketitle

hello, world

\begin{lstlisting}
    print "str\"ing";
    print 'str''ing';

    print |str\|ing ||morestring|;

    print q(string);
    print qq(string);

    print q{string};
    print qq{string};

\end{lstlisting}

\end{document}
