%% AMS prddvilualatex

\documentclass{amsart}

\csname noTeXMLhistory\endcsname

\nofiles

\usepackage{xcolor}

\usepackage{texml}

\ifTeXML
    \usepackage{Listings}
    \def\kwd{\XMLelement{kwd}}
    \def\id{\XMLelement{id}}
    \def\str{\XMLelement{str}}
    \def\comment{\XMLelement{comment}}
\else
    \usepackage{listings}
    \def\kwd#1{{\color{blue}\textbf{#1}}}
    \def\id#1{{\color{red}\textbf{#1}}}
%    \def\str#1{{\color{green}#1}}
    \def\comment#1{{\color{green}#1}}
\fi

\title{scratch}

\begin{document}

\maketitle

hello, world

\lstset{morecomment=[l]{//}}

\lstset{literate={:=}{{$\gets$}}1
                 {<=}{{$\leq$}}1
                 {>=}{{$\geq$}}1
                 {<>}{{$\neq$}}1}

\begin{lstlisting}
    var i:integer;

//    if (i<=0) i := 1;
    if (i<=0) i := 1;
    if (i>=0) i := 0;
    if (i<>0) i := 0;
\end{lstlisting}

\end{document}
