%% AMS prddvilualatex

\documentclass{amsart}

\csname noTeXMLhistory\endcsname

\nofiles

\ifTeXML
    \usepackage{Listings}
    \def\kwd{\XMLelement{kwd}}
    \def\id{\XMLelement{id}}
    \def\str{\XMLelement{str}}
\else
    \usepackage{listings}
    \def\kwd#1{{\color{blue}\textbf{#1}}}
    \def\id#1{{\color{red}\textbf{#1}}}
    \def\str#1{{\color{green}#1}}
\fi

\usepackage{xcolor}

\title{listings}

\begin{document}

\maketitle

hello, world

% \lstset{language=perl}
% \lstset{deletekeywords={q}}

\lstset{keywords={while, print, chomp}}

\lstset{keywordstyle=\kwd}
\lstset{identifierstyle=\id}
\lstset{stringstyle=\str}

\lstset{morestring=[b]"}
\lstset{morestring=[b]'}

\lstset{ morestring=[s]{qq(}{)} }
\lstset{ morestring=[s]{q(}{)} }

\lstset{ morestring=[s]{qq\{}{\}} }
\lstset{ morestring=[s]{q\{}{\}} }

\begin{lstlisting}
while (<>) {
    chomp;

    print "string";
    print 'string';

    print q(string);
    print qq(string);

    print q{string};
    print qq{string};
}
\end{lstlisting}

\end{document}
