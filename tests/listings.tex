%% AMS amsxelatex

\documentclass{amsart}

\usepackage{texml}

\usepackage{xcolor}

\ifTeXML
    \usepackage{Listings}
\else
    \usepackage{listings}
\fi

\csname noTeXMLhistory\endcsname

\title{listings (experimental)}

\lstset{
    identifierstyle=\emph
}

\lstdefinelanguage{GAP}{
    basicstyle=\ttfamily,
    keywords={true, false, function, return, fail, if, in, while, do,
              od, else, elif, fi, break, continue},
    morekeywords={foobar},
    keywordstyle=\color{blue}\bfseries,
    otherkeywords={ >, <, ==, :=},
    sensitive=True,
    comment=[l]{\#},
    commentstyle=\color{cyan},
    stringstyle=\color{red},
    morestring=[b]',
    morestring=[b]",
columns=fullflexible,
}

\begin{document}

\maketitle

hello, world

\begin{lstlisting}[language=GAP, frame=single,numbers=left]
 LoadPackage( "EquiDeg" );
  o2 := OrthogonalGroupOverReal( 2 );
  d6 := pDihedralGroup( 6 );
  # this is a comment
  ccsd6 := ConjugacyClassesSubgroups (d6);
SetCCSsAbbrv(d6, ["Z_1", "D_1", "Z_2", "tD_1", "Z_3",
  "D_2",  "D_3", "Z_6", "tD_3", "D_6" ]);
  g := DirectProduct( o2, d6 );
  ccss_g := ConjugacyClassesSubgroups( g );
  deg05:=BasicDegree( Irr( g)[0,5]);
  deg15:=BasicDegree( Irr( g)[1,5]);

  deg:=deg05*deg15;
\end{lstlisting}

\end{document}
