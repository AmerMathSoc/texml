\documentclass{amsart}

\ifx\TeXMLdebugoutput\undefined\else\TeXMLdebugoutput=1 \fi

\let\h\relax
\DeclareMathOperator{\h}{h}
\DeclareMathOperator{\val}{val}

\begin{document}

\[ e^{\pi i} = -1 \]

\tracingmacros=1

\[ \text{$e^{\pi i} = -1$} \]

\[ \text{\$$n+1$} \]

\[ \text{\#nested math $\int$ucks} \]

\[ \text{t $m \text{t $m$ t} m $ t} \]

% noti2415:

$$
\h_\ell\bigg(\big({\bf (m+1)}\times{\bf n}\big)\coprod{\bf m}
\bigg)\!=\! \h_\ell\bigg(\big({\bf(n+1)}\times{\bf m}\big)\coprod{{\bf n}}\bigg) \text{(\$137)?}
\footnote{The reader should be wondering if this is a typo or if the author is offering a cash prize for a solution to this problem.}
$$

% noti2378:

\begin{displaymath}
D'(w) \!=\! \left\{ \begin{array}{ll}
D(v)-\val(v)&\text{if }w=v,\\
D(w)+\text{\# of edges between }w\text{ and }v&\text{if }w\neq v,
\end{array} \right.
\end{displaymath}

\end{document}
