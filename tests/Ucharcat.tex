%% AMS amsxelatex

\documentclass{amsart}

\csname noTeXMLhistory\endcsname

\title{Ucharcat}

\begin{document}

\maketitle

hello, world

\def\C#1{%
    \begingroup
        \edef\A{\noexpand\the\noexpand\catcode`#1}%
        \A
    \endgroup
}

\let\X=A

1: {\tt\meaning\X}

%%%%%%%%%%%%%%%%%%%%

\edef\X{%
    \let\noexpand\X=\Ucharcat `\A 12
}

\X

2: {\tt\meaning\X}

%%%%%%%%%%%%%%%%%%%%

\edef\X{%
    \let\noexpand\X=\Ucharcat `\A 4
}

\X

3: {\tt\meaning\X}

%%%%%%%%%%%%%%%%%%%%

\edef\X{\def\noexpand\X{\let\noexpand\X=\Ucharcat`\A 4 }}
\X

4: {\tt\meaning\X}

\X

5: {\tt\meaning\X}

%%%%%%%%%%%%%%%%%%%%

\edef\X{\Ucharcat`\A 4}

6: \C\X

%%%%%%%%%%%%%%%%%%%%

\edef\X{4}

7: \C\X

\end{document}
