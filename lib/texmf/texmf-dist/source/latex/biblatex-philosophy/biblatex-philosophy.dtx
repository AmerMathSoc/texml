% \iffalse meta-comment
%<*internal>
\begingroup
\input docstrip.tex
\keepsilent
\preamble
  ______________________________________________________
  The biblatex-philosophy package 
  Copyright (C) 2009-2016 Ivan Valbusa 
  All rights reserved

  License information appended

\endpreamble
\postamble

 Copyright 2009-2016 by Ivan Valbusa

 This program is provided under the terms of the
 LaTeX Project Public License distributed from CTAN
 archives in directory macros/latex/base/lppl.txt.

 Author: Ivan Valbusa
         ivan dot valbusa at univr dot it

 This work has the LPPL maintenance status "author-maintained".

\endpostamble
\askforoverwritefalse

\Msg{*** Generating the class file ***}
\generate{
\file{philosophy-standard.bbx}{\from{biblatex-philosophy.dtx}{standard-bbx}}
\file{philosophy-classic.bbx}{\from{biblatex-philosophy.dtx}{classic-bbx}}
\file{philosophy-modern.bbx}{\from{biblatex-philosophy.dtx}{modern-bbx}}
\file{philosophy-verbose.bbx}{\from{biblatex-philosophy.dtx}{verbose-bbx}}
\file{philosophy-classic.cbx}{\from{biblatex-philosophy.dtx}{classic-cbx}}
\file{philosophy-modern.cbx}{\from{biblatex-philosophy.dtx}{modern-cbx}}
\file{philosophy-verbose.cbx}{\from{biblatex-philosophy.dtx}{verbose-cbx}}
\file{italian-philosophy.lbx}{\from{biblatex-philosophy.dtx}{italian-lbx}}
\file{english-philosophy.lbx}{\from{biblatex-philosophy.dtx}{english-lbx}}
\file{spanish-philosophy.lbx}{\from{biblatex-philosophy.dtx}{spanish-lbx}}
\file{biblatex-philosophy.bib}{\from{biblatex-philosophy.dtx}{bib}}
}

\Msg{***********************************************************}
\Msg{*}
\Msg{* To finish the installation you have to move the following}
\Msg{* files into a directory searched by TeX:}
\Msg{*}
\Msg{* \space\space philosophy-standard.bbx}
\Msg{* \space\space philosophy-classic.bbx}
\Msg{* \space\space philosophy-modern.bbx}
\Msg{* \space\space philosophy-verbose.bbx}
\Msg{* \space\space philosophy-classic.cbx}
\Msg{* \space\space philosophy-modern.cbx}
\Msg{* \space\space philosophy-verbose.cbx}
\Msg{* \space\space italian-philosophy.lbx}
\Msg{* \space\space english-philosophy.lbx}
\Msg{* \space\space spanish-philosophy.lbx}
\Msg{*}
\Msg{*}
\Msg{* To produce the documentation run}
\Msg{* the file ending with `.dtx' through (pdf)LaTeX. See the}
\Msg{* README file for more details.}
\Msg{*}
\Msg{* Happy TeXing}
\Msg{***********************************************************}
\endgroup
%</internal>
%
% Copyright (C) 2009-2016 by Ivan Valbusa 
% <ivan dot valbusa at univr dot it>
% -------------------------------------------------------
% 
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% \fi
%
% \iffalse
%<*driver>
\ProvidesFile{biblatex-philosophy.dtx}
%</driver>
%<standard-bbx>\ProvidesFile{philosophy-standard.bbx}
%<classic-bbx>\ProvidesFile{philosophy-classic.bbx}
%<modern-bbx>\ProvidesFile{philosophy-modern.bbx}
%<verbose-bbx>\ProvidesFile{philosophy-verbose.bbx}
%<classic-cbx>\ProvidesFile{philosophy-classic.cbx}
%<modern-cbx>\ProvidesFile{philosophy-modern.cbx}
%<verbose-cbx>\ProvidesFile{philosophy-verbose.cbx}
%<italian-lbx>\ProvidesFile{italian-philosophy.lbx}
%<english-lbx>\ProvidesFile{english-philosophy.lbx}
%<spanish-lbx>\ProvidesFile{spanish-philosophy.lbx}
%<*standard-bbx|classic-bbx|modern-bbx|verbose-bbx|classic-cbx|modern-cbx|verbose-cbx|italian-lbx|english-lbx|spanish-lbx>
    [2016/06/16 v1.8 A set of styles for biblatex]
%</standard-bbx|classic-bbx|modern-bbx|verbose-bbx|classic-cbx|modern-cbx|verbose-cbx|italian-lbx|english-lbx|spanish-lbx>
%<*driver>
\documentclass[10pt]{ltxdoc}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
% fonts and colors
\usepackage[osf,p,mono=false]{libertine}
\usepackage[libertine]{newtxmath}
\usepackage[svgnames]{xcolor}
  \definecolor{sufred}{rgb}{0.5,0,0}
  \definecolor{sufgray}{rgb}{0.5,0.5,0.5}
\usepackage{metalogo}
\usepackage{guit}
\usepackage[final]{microtype}
% doc facilities
  \let\cs\relax
  \let\cmd\relax
\usepackage{ltxdockit}
\usepackage{btxdockit}
% bibliography
\usepackage{csquotes}
\usepackage[style=philosophy-modern,
  backend=biber,annotation=true]{biblatex}
  \addbibresource{biblatex-philosophy.bib}
% layout
\setcounter{tocdepth}{3}
\usepackage{geometry}
\geometry{paperwidth=17cm,paperheight=24cm,margin=1.4cm,top=2cm,bottom=2cm,headheight=15pt,ignoreall,heightrounded}

\usepackage{sectsty}
  \allsectionsfont{\sffamily}
\usepackage{fancyhdr}
  \fancyhf{}
  \fancyhead[L]{© 2009--\the\year\quad Ivan Valbusa}
  \fancyfoot[L]{\textsf{biblatex-philosophy} 
                 \fileversion{} -- \filedate}
  \renewcommand{\footrulewidth}{0.4pt}
  \fancyhead[R]{\thepage}
    \pagestyle{fancy}
\usepackage[framemethod=TikZ]{mdframed}
  \mdfsetup{roundcorner=3pt,linecolor=olive}
  \usetikzlibrary{shadows}
% New commands
\def\suftesi{\textsf{suftesi}}
\newcommand{\argstyle}{\itshape}
\DeclareRobustCommand*{\ar}[1]{\texttt{\char`\{}%
  \textrm{\argstyle#1}\texttt{\char`\}}}
\DeclareRobustCommand*{\oar}[1]{\texttt{[}%
  \textrm{\argstyle#1}\texttt{]}}
\DeclareRobustCommand*{\meta}[1]{%
  $\langle${\argstyle\rmfamily#1\kern0.12em}$\rangle$}
\DeclareRobustCommand*{\arm}[1]{\ar{\meta{\argstyle#1}}}
\DeclareRobustCommand*{\oarm}[1]{\oar{\meta{\argstyle#1}}}
\newcommand{\emphasize}[1]{\textcolor{teal}{#1}}
% environments
\newenvironment{ttquote}
  {\begin{mdframed}
  \ttfamily\microtypesetup{activate=false}}
  {\end{mdframed}}
\newenvironment{latexcode}
  {\begin{mdframed}}
  {\end{mdframed}}
\newenvironment{bibexample}
  {\begin{mdframed}[backgroundcolor=sufred!10,linecolor=white]}
  {\ttfamily\small\microtypesetup{activate=false}\end{mdframed}}
\makeatletter
\renewenvironment*{optionlist}
  {\list{}{%
     \setlength{\labelwidth}{2.5cm}%
     \setlength{\labelsep}{\z@}%
     \setlength{\leftmargin}{2.5cm}%
     \renewcommand*{\makelabel}[1]{\hss\optionlistfont##1}}%
   \ltd@optionlist}
  {\endlist}
\renewenvironment*{fieldlist}[1][3cm]
  {\list{}{%
     \setlength{\labelwidth}{#1}%
     \setlength{\labelsep}{\marglistsep}%
     \setlength{\leftmargin}{2.5cm}%
     \renewcommand*{\makelabel}[1]{\hss\marglistfont##1}}%
   \def\fielditem##1##2{%
     \item[##1]%
     \ltd@pdfbookmark{##1}{##1}%
     field (##2)\par\nobreak
     \vspace{\itemsep}}%
   \def\listitem##1##2{%
     \item[##1]%
     \ltd@pdfbookmark{##1}{##1}%
     list (##2)\par\nobreak
     \vspace{\itemsep}}}
  {\endlist}
\renewenvironment*{ltxsyntax}[1][3cm]
  {\list{}{%
     \setlength{\labelwidth}{3cm}%
     \setlength{\labelsep}{0pt}%
     \setlength{\leftmargin}{#1}%
     \renewcommand*{\makelabel}[1]{%
       \hss\ltxsyntaxfont\ltxsyntaxlabelfont##1}}%
   \let\csitem\ltd@csitem
   \let\cmditem\ltd@cmditem
   \let\envitem\ltd@envitem
   \let\lenitem\ltd@csitem
   \let\boolitem\ltd@boolitem
   \let\cntitem\ltd@item
   \let\optitem\ltd@item}
  {\endlist}
  {\endlist}
\renewenvironment*{valuelist}[1][]
  {\list{}{%
     \ifblank{#1}
       {\setlength{\labelwidth}{5em}}
       {\setlength{\labelwidth}{#1}}%
     \setlength{\labelsep}{1em}%
     \setlength{\leftmargin}{\labelwidth}%
     \addtolength{\leftmargin}{\labelsep}%
     \setlength{\itemsep}{0pt}%
     \renewcommand*{\makelabel}[1]{\valuelistfont##1\hss}}}
  {\endlist}
\newcommand*{\valuelistfont}{%
  \color{olive}\sffamily\displayverbfont}
\renewcommand*{\optionlistfont}{%
  \color{sufred}\sffamily\displayverbfont}
\renewcommand*{\ltxsyntaxlabelfont}{%
  \color{sufred}\sffamily\displayverbfont}
\renewcommand*{\marglistfont}{%
  \color{sufred}\sffamily\displayverbfont}
% Table of contents
\renewcommand\tableofcontents{%
\setlength{\columnsep}{1cm}
{\centering	    
   \section*{\contentsname}%
	      \@mkboth{\contentsname}{\contentsname}%
	 }	 
        \thispagestyle{empty}
        \begin{multicols}{2}
	    \@starttoc{toc}%
	    	\end{multicols}
		}
\makeatother

\usepackage{hyperref}
\hypersetup{%
    pdftitle={User's Guide to \textsf{biblatex philosophy}},
    pdfsubject={Bibliography styles for (Italian) 
                users of biblatex},
    pdfauthor={Ivan Valbusa},
    pdfkeywords={bibliography},
    }   

\EnableCrossrefs         
\CodelineIndex
\RecordChanges

\begin{document}
  \DocInput{biblatex-philosophy.dtx}
\end{document}
%
%</driver>
% \fi
%
% \CheckSum{4087}
%
% \CharacterTable
%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%   Digits        \0\1\2\3\4\5\6\7\8\9
%   Exclamation   \!     Double quote  \"     Hash (number) \#
%   Dollar        \$     Percent       \%     Ampersand     \&
%   Acute accent  \'     Left paren    \(     Right paren   \)
%   Asterisk      \*     Plus          \+     Comma         \,
%   Minus         \-     Point         \.     Solidus       \/
%   Colon         \:     Semicolon     \;     Less than     \<
%   Equals        \=     Greater than  \>     Question mark \?
%   Commercial at \@     Left bracket  \[     Backslash     \\
%   Right bracket \]     Circumflex    \^     Underscore    \_
%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%   Right brace   \}     Tilde         \~}
%
% \changes{v1.8}{2016/06/16}{Maintenance release. Corrected an incompatibility with \opt{scauthors} option.}
% \changes{v1.7}{2016/06/10}{Maintenance release. Updated documentation.}
% \changes{v1.6}{2016/05/22}{Removed compatibility with legacy Bib\TeX{} backend.}
% \changes{v1.5}{2016/05/18}{Improved compatibility with legacy Bib\TeX{} backend.}
% \changes{v1.4}{2016/03/10}{Maintenance release. Updated style for working with \sty{biblatex} v.3.4.}
% \changes{v1.3}{2015/10/09}{Maintenance release. Corrected a spurious space in article entries.}
% \changes{v1.2}{2015/09/19}{Maintenance release. New value \opt{superscript} for \opt{editionformat} option.}
% \changes{v1.1}{2015/06/13}{Maintenance release. Updated documentation.}
% \changes{v1.0}{2015/03/31}{Corrected a bug in \opt{volumeformat} and \opt{volnumformat} options. Change value \opt{romanupp} to \opt{Roman} in \opt{volume format} and \opt{edition format}. Corrected bug in \opt{related format} options: now the related block is not preceded by semicolon when using values \opt{parens} and \opt{brackets} styles. §updated documentation}
% \changes{v0.9i}{2015/03/14}{Corrected a bug with \opt{shorthandintro} option.}
% \changes{v0.9h}{2015/01/14}{New option \opt{lowscauthors}. Corrected some bugs. Updated documentation.}
% \changes{v0.9g}{2014/12/12}{Added localization module for spanish. Corrected a bug in \bibtype{inbook} and \bibtype{incollection} entries when using \bibfield{crossref} field. Updated documentation.}
% \changes{v0.9f}{2014/03/28}{Updated documentation. Corrected a bug in the \opt{volnumformat} option.}
% \changes{v0.9e}{2014/02/12}{Maintenance release. Updated documentation.}
% \changes{v0.9d}{2013/11/13}{Maintenance release. Corrected some bugs.}
% \changes{v0.9c}{2013/10/15}{Maintenance release. Corrected some bugs.}
% \changes{v0.9b}{2013/08/30}{Updated bibliography drivers to correct a bug when using the \bibfield{related} mechanism.}
% \changes{v0.9a}{2013/07/04}{Maintenance release. Corrected some bugs.}
% \changes{v0.8f}{2013/06/20}{New option \opt{nodate} for \cmd{printbibliography} command}
% \changes{v0.8e}{2013/04/13}{Improved \opt{relatedformat} option for cascading entries. Implemented cross-referencing mechanism for \bibtype{inproceedings} entries. Improved \cmd{ccite} command. Changed the values for the \bibfield{entrysubtype} from \bibfield{classical} to \bibfield{classic}. Added \opt{nodate} package option.}
% \changes{v0.8d}{2013/03/30}{Fixed some bugs related to \cmd{DeclareDriverSourcemap}, \cmd{ccite}, and \bibtype{review} entry type}
% \changes{v0.8c}{2013/03/27}{Removed \sty{biber.conf} configuration file. Added internal \file{biber} settings with \cmd{DeclareDriverSourcemap} command. Added \bibfield{trans-} field alias}
% \changes{v0.8b}{2013/03/22}{Added \sty{biber.conf} configuration file}
% \changes{v0.8a}{2013/04/18}{New \bibfield{entrysubtype} field for citing classical texts. New \bibfield{related} field mechanism. New \opt{relatedformat} option. New English documentation. Fixed some bugs}
% \changes{v0.7c}{2011/05/16}{Fixed some bugs. New \opt{origfieldtype} option. Added \bibfield{nodate} bibliography string. Updated documentation}
% \changes{v0.7b}{2010-04-23}{Removed package option \opt{romanvol}. Added package option \opt{volumeformat}. Added package option \opt{editionformat}. Activated the option \opt{singletitle} for style \sty{philosophy-verbose}. Added bibliography driver \bibtype{review}. Added bibliography string \opt{cit}. Added bibliography string \opt{reviewof}. Updated documentation}
% \changes{v0.7a}{2010-04-03}{Added command \opt{volumfont}. Added command \opt{footcitet}. Updated documentation}
% \changes{v0.7}{2010-03-30}{Removed package option \opt{colonloc}. Removed package options \opt{origparens} \opt{origbrackets}. Added package options \opt{origfieldsformat}, \opt{publocformat}, \opt{commacit}, \opt{inbeforejournal}, \opt{romanvol}, \opt{volnumformat}. Added command \opt{volnumpunct}. Added citation commands \cmd{sdcite}, \cmd{ccite}. Updated documentation}
% \changes{v0.6}{2010-03-07}{Added localization file \file{italian-philosophy.lbx}. Added file \file{philosophy-standard.bbx}. New documentation file \file{biblatex-philosophy}. Removed files \file{philosophy-authoryear-doc.tex}, \file{philosophy-verbose-doc.tex}.}
% \changes{v0.5}{}{Added new bibliography style \texttt{philosophy-verbose}. Added localization file \file{italian-philosophy.lbx}. Added package options \opt{origparens}, \opt{origbrackets}, \opt{latinemph}. Changed package options \opt{scauthors}, \opt{scauthorscite}, \opt{scauthorsbib}. Renamed file \file{biblatex-philosophy-doc.tex} to \texttt{philosophy-authoryear-doc.tex}. Added file \file{philosophy-verbose-doc.tex}. Updated documentation}
% \changes{v0.4}{}{Improved compatibility for \sty{biblatex} version 0.9}
%
% \GetFileInfo{biblatex-philosophy.dtx}
%
% \DoNotIndex{\newcommand,\newenvironment,\def,\begin,\vskip,\ }
% \DoNotIndex{\DeclareOption,\ExecuteOptions,\RequirePackage}
% \DoNotIndex{\@@end,\@empty,\@ifclassloaded,\@nameuse,\@nil}
% \DoNotIndex{\@undefined,\\,\`,\addtocounter,\advance,\bfseries}
% \DoNotIndex{\centering,\closeout,\define@key,\documentclass}
% \DoNotIndex{\edef,\else,\end,\endinput,\endtitlepage,\expandafter}
% \DoNotIndex{\extracolsep,\fi,\fill,\fontsize,\g@addto@macro,\toks}
% \DoNotIndex{\hrule,\hspace,\if,\if@twoside,\ifcase,\ifdefined}
% \DoNotIndex{\iffalse,\IfFileExists,\ifnum,\ifx,\immediate,\setcounter}
% \DoNotIndex{\jobname,\let,\long,\MakeUppercase,\MessageBreak}
% \DoNotIndex{\newcount,\newif,\newpage,\newtoks,\newwrite,\next}
% \DoNotIndex{\noexpand,\nofiles,\normalfont,\normalsize,\null}
% \DoNotIndex{\openout,\or,\styage,\styageError,\styageWarning}
% \DoNotIndex{\styageWarningNoLine,\paperheight,\paperwidth,\par}
% \DoNotIndex{\parbox,\parindent,\relax,\scshape,\selectfont,\setkeys}
% \DoNotIndex{\sffamily,\space,\stretch,\string,\textheight,\textwidth}
% \DoNotIndex{\the,\thispagestyle,\unexpanded,\unless,\unskip,\upshape}
% \DoNotIndex{\usepackage,\vbox,\vfill,\vspace,\write,\z@}
% \DoNotIndex{\CurrentOption,\AtEndDocument,\@ne,\c@page,\m@ne}
% \DoNotIndex{\@firstofone,\@gobble,\@makeother,\begingroup,\endgroup}
% \DoNotIndex{\eTeXversion,\hbox,\hsize,\includegraphics,\newlinechar}
% \DoNotIndex{\titlepage,\vss,\vtop,\xdef,\@gobbletwo,\color,\dimexpr}
% \DoNotIndex{\huge,\large,\makebox,\ProcessOptions,\renewcommand}
%
%
% \thispagestyle{empty}
% \begin{tikzpicture}[overlay,remember picture]
% \draw[circular drop shadow,draw=none,fill=white] (current page.center) circle (6cm);
% \node[align=center,anchor=center] at (current page.center) {%
% Ivan Valbusa\\[1cm]
% 
%\Huge\color{gray}\bfseries \parbox{10cm}{\centering The \\{{\color{sufred}\fontsize{30}{32}\textsf{biblatex-philosophy}}\\ bundle}}\\[1cm]
% \color{black!60!Goldenrod}
%
%\normalsize \fileversion{} -- \filedate
% 
%};
% \end{tikzpicture}
%
% \clearpage 
%
% \thispagestyle{empty}
% \vspace*{\fill}
%
%\noindent Copyright \copyright\ 2009-\the\year{} Ivan Valbusa.
% \bigskip
%
%\noindent This package is author-maintained. 
%Permission is granted to copy, distribute and/or modify this software under the 
%terms of the LaTeX Project Public License, version 1.3c ora later (\url{http://latex-project.org/lppl}). This software is provided ''as is'', without warranty of any kind, either expressed or implied, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose.
%
% \bigskip
% 
%\noindent If you have any questions, feedback or requests please email me at \texttt{ivan dot valbusa at univr dot it}. If you need specific features not already implemented, remember to attach the example files.
%
% \clearpage
%
% \begin{center}
% {\color{sufred}\bfseries 
%   \Huge User's Guide to\\ \textsf{biblatex-philosophy}\\[3mm]}
% {\large\itshape Bibliography styles for (Italian) users of~\textsf{biblatex}}
%\vspace{.8cm}
%
% \normalsize\fileversion{} -- \filedate
% \vspace{.7cm}
%
% Ivan Valbusa\\[2mm]
%
%  \small Dipartimento di Filologia, Letteratura e Linguistica\\
%  \small Università degli Studi di Verona\\
%  \footnotesize\texttt{ivan dot valbusa at univr dot it}
% \vspace{1cm}
% \end{center}
%
%\begin{abstract}
%\noindent This package provides a small collection of bibliography and citation styles for use with Philipp Lehman's \sty{biblatex} package. These styles aim to match the needs of the Italian writers, particularly those concerned in the humanities (for example the comma is used to distinguish the units of the entry). They offer some useful features to compose detailed bibliographic entries including the translation data of foreign texts, annotations etc. Many options allow you to change the style defaults. Only the Italian, English and Spanish localization is available for now but you can use the styles with all the languages supported by \sty{babel} (or \sty{polyglossia}) adding simple redefinitions.
%	\end{abstract} 
%
% \tableofcontents
%
%
%\section*{A brief history}
%
%The firs step toward the creation of the \sty{philosophy-modern} style  was the request of Lorenzo Pantieri in the \GuIT{} Forum: \url{http://www.guit.sssup.it/phpbb/viewtopic.php?t=6472} (See the discussion on \url{http://www.guit.sssup.it/phpbb/viewtopic.php?t=6717.}) Now this is the bibliography style of \citetitle{pantieri:artelatex}, the most popular Italian guide to \LaTeX{} \parencite{pantieri:artelatex}. 
%
% \smallskip
%
% {\itshape\noindent  I would like to thank who took part in the debate on {\fontfamily{cmr}\upshape\selectfont\GuIT{}} Web site and the authors of the styles which inspired \sty{biblatex-philosophy}, specifically: Dominik \textcite{wassenhoven:dw}, James \textcite{clawson:mla} and  Sander \textcite{glibof:historian}.
% }
%
%\section{Use}
%
% 
%The styles can be loaded as usual, but to ensure Italian-style quotation marks, you need to call the \sty{babel} and \sty{csquotes} packages in the preamble of your \LaTeX{} document:
%\begin{ttquote}
%\cmd{usepackage}\oar{italian}\ar{babel}\\
%\cmd{usepackage}\oar{style=italian}\ar{csquotes}\\
%\cmd{usepackage}\oar{style=philosophy-\meta{style},backend=biber}\ar{biblatex}\\
%\mbox{}\quad \cmd{addbibresource}\ar{\meta{bibfile}.bib}
%\end{ttquote}
%Replace \meta{style} with \sty{classic}, \sty{modern} or \sty{verbose}, and \meta{bibfile} with the name of your bibliography file (``.bib'' must be declared). See the example files in the \texttt{texmf-dist/doc/latex/ biblatex-philosophy/examples.zip} folder. 
%
%To uniform the style of quotation marks in multilingual bibliographies typeset using the \opt{babel=other} package option, you can use the \cmd{DeclareQuoteAlias} command:
%\begin{verbatim}
%\DeclareQuoteAlias{italian}{german}
%\end{verbatim}
%
%\paragraph{Warning!} Since version 1.6 the package requires Biber \parencite[see][]{kime:biber} as backend bibliography processor so you have to set it properly in the preferences of the editor.
%
%
%\section{The styles}\label{sec:introduction}
% 
% 
%\subsection[\sty{philosophy-classic}]{\sty{philosophy-classic}}
%
%
%The \sty{classic} style is a standard author-year style associated to a compact citation scheme which allows to cite multiple entries of the same author and/or published in the same year, omitting some redundant informations:
%\begin{bibexample}
%Knuth (1984, 1986a,b,c,d)
%\end{bibexample}

%\begin{bibexample}
%\begin{description}
%\setlength{\itemsep}{-1mm}
%\item[\mdseries Donald E. Knuth]
%(1984-1986),	\emph{Computers \& Typesetting}, 5 vols., Addison-Wesley, Reading, Mass.
%\item[---]
%(1984)	\emph{Computers \& Typesetting}, vol. A: \emph{The \TeX book}, Addison-Wesley, Reading, Mass.
%\item[---]
%(1986a)	\emph{Computers \& Typesetting}, vol. B: \emph{\TeX: The Program}, Addison-Wesley, Read- ing, Mass.
% \item[---]
%(1986b)	\emph{Computers \& Typesetting}, vol. C: \emph{The METAFONTbook}, Addison-Wesley, Reading, Mass.
%  \item[---]
%(1986c)	\emph{Computers \& Typesetting}, vol. D: \emph{METAFONT: The Program}, Addison-Wesley, Reading, Mass.
%  \item[---]
%(1986d)	\emph{Computers \& Typesetting}, vol. E: \emph{Computer Modern Typefaces}, Addison- Wesley, Reading, Mass.
%\end{description}
%	\end{bibexample}
%
%
%\subsection[\sty{philosophy-modern}]{\sty{philosophy-modern}} \label{esempio-modern}
%
%The \sty{philosophy-modern} style uses the \sty{philosophy-classic} style for the citations but produces a fancy bibliography divided into blocks, which is particularly suited for bibliographies with many entries for the same author:
%\begin{bibexample}
%\begin{list}{}{%
%\setlength{\itemsep}{-1mm}
%\setlength{\labelwidth}{2cm}
%\setlength{\itemindent}{0cm}
%\setlength{\leftmargin}{2.3cm}
%\setlength{\labelsep}{3mm}}
%\item[Donald E. Knuth]
%\item[1984/1986]
%	\emph{Computers \& Typesetting}, 5 vols., Addison-Wesley, Reading, Mass.
%\item[1984]
%	\emph{Computers \& Typesetting}, vol. A: \emph{The \TeX book}, Addison-Wesley, Reading, Mass.
%\item[1986a]
%	\emph{Computers \& Typesetting}, vol. B: \emph{\TeX: The Program}, Addison-Wesley, Read- ing, Mass.
% \item[1986b]
%	\emph{Computers \& Typesetting}, vol. C: \emph{The METAFONTbook}, Addison-Wesley, Reading, Mass.
%  \item[1986c]
%	\emph{Computers \& Typesetting}, vol. D: \emph{METAFONT: The Program}, Addison-Wesley, Reading, Mass.
%\end{list}
%	\end{bibexample}
%
%\subsection[\sty{philosophy-verbose}]{\sty{philosophy-verbose}}\label{sec:verbose}
%
%This style is aimed for citations given in the footnotes and follows the most popular scheme used in the Italian humanities.
%
%It prints a full citation similar to a bibliography entry when an item is cited for the first time, and a short citation afterwards, using the title (possibly shortened in the \bibfield{shorttitle} field), followed by the string ``cit.''.
%Citing the same entry two times, in the second one the string ``Ivi'' is used; citing the same place of the previous citation you will have ``Ibidem'':
%		\begin{bibexample}
%				\textsuperscript{1} Cfr. Cartesio, \emph{Discorso sul metodo}, trad. e 
%				introd. di Lucia Urbani Ulivi, 1\textsuperscript{a} ed., testo francese a fronte, Bompiani, 
%				Milano 2002, p. 43.\\
%				\textsuperscript{2} Ivi, p. 26. \\
%				\textsuperscript{3} Ibidem. \\
%				\textsuperscript{4} Settimo Termini, «Vita morte e miracoli di Alan 
%				Mathison Turing», in \emph{Vite matematiche. Protagonisti del '900 da 
%				Hilbert a Wiles}, a cura di Claudio Bartocci \emph{et al.}, Springer-Verlag Italia, 
%				Milano 2007, pp. 59-61.\\
%				\textsuperscript{5} Cartesio, \emph{Discorso sul metodo} cit., p. 35.
%		\end{bibexample}
%
%When there is only one entry for the same author, with the \opt{singletitle=true} option 
%the string ``op. cit.'' is used instead of the (short) title followed by ``cit.'':%
%\begin{bibexample}
%\textsuperscript{6} Cartesio, op. cit., p. 35.
%\end{bibexample}
%
%All the scholarly abbreviations (\emph{latinitates}) but ``cit.'' are printed by default in normal font. With the \opt{latinemph} option (section \ref{sec:options-verbose}) you can get them in italic shape.
%
% \section{Specialities}\label{sec:specialities}
% The first simple and trivial characteristic of these style is that they use commas instead of dots to separate the parts of the entry, according to the most common Italian tradition. But the do much more, of course.
%
%\subsection{Related entries}\label{sec:related}
%
%
%
%The \sty{philosophy} styles use the mechanism provided by the \bibfield{related} field to typeset complex entries comprising both the original publication data and the translation data \parencite[see][]{Poincare:1968-ORIG}. Previous versions of the styles provided a different mechanism to manage translations. This feature is now deprecated and it is still supported only for backward compatibility. See section \ref{sec:origfields} for details. 
%	\begin{bibexample}
% Jules-Henri Poincaré (1968), \emph{La science et l'hypothèse}, Flammarion, Paris; trans. as \emph{La scienza e l'ipotesi}, ed. by Corrado Sinigaglia, Bompiani, Milano 2003.
%	\end{bibexample}
%
%\begin{latexcode}
%\begin{verbatim}
%@book{Poincare:1968-ORIG,
%	  author    = {Jules-Henri Poincaré},
%	  title     = {La science et l'hypothèse},
%	  publisher = {Flammarion},
%	  location  = {Paris},
%	  date      = {1968},
%	  related   = {Poincare:1968-ITA}}
%
%@book{Poincare:1968-ITA,
%	  author    = {Jules-Henri Poincaré},
%	  editor    = {Corrado Sinigaglia},
%	  title     = {La scienza e l'ipotesi},
%	  publisher = {Bompiani},
%	  location  = {Milano}}
%	\end{verbatim}
%	\end{latexcode}
%	
%Since Biber 1.6 you can have cascading relations too \parencite[see][]{popper-logik}.
%\begin{latexcode}
%\begin{verbatim}
%@Book{key1, 
%  ...
%  related	= {key2}, 
%  ...
%}
%
%@Book{key2, 
%  ...
%  related	= {key3}, 
%
%  
%@Book{key3, 
%  ...
%}
%\end{verbatim}
%\end{latexcode}
%
%The related entry is preceded by the \texttt{translationas} string which defaults to ``trad.~it.'' for Italian documents and ``trans.~as'' for English documents. If you want to change it, use the \bibfield{relatedstring} field. For example:
%\begin{latexcode}
%\begin{verbatim}
%@book{Poincare:1968-ORIG,
%	  author        = {Jules-Henri Poincaré},
%	  ... 
%	  related       = {Poincare:1968-ITA},
%	  relatedstring = {ed.~it.}}
%\end{verbatim}
%\end{latexcode}
%
%
%\subsection{Classical works}\label{sec:classical-works}
%
%
%
%The treatment of the classical works and other writings with uncertain or omitted date is particularly difficult and inevitably imposes some choices.
%
%If a critical edition exists you should cite it directly, such as  \textcite{heidegger:sz}. If you do not like this anachronistic label you may use the \bibfield{shorthand} field, such as \textcite{kant:kpv}. 
% Note that a ``shorthand intro'' is automatically printed when the entry is cited for the first time and omitted afterwards.  To turn off this capability load the  option \opt{shorthandintro=false}. In this case you will need a list of shorthands (\cmd{printshorthands} command). If you do not like these solutions you can use the \bibfield{entrysubtype} field with \texttt{classic} value (see section \ref{sec:classical-works}) or the  \cmd{sdcite} command (section \ref{sec:commands:citations}).
%
%\begin{fieldlist}
%
%\fielditem{nameaddon}{literal} 
%
%An addon to be printed immediately after the author name in the bibliography. 
%It is useful for those author known with alias, Latinized names, etc. \parencite[see][]{comenio:oo}.
%
% \fielditem{entrysubtype}{literal} 
% This feature is active only for the \sty{classic} and \sty{modern} styles. 
% With the \opt{classic} value the citation commands will produce an 
% author-title label. This is useful for citing works from classical antiquity, such as \cite{aristotle:physics}:
%\begin{latexcode}
%\begin{verbatim}
%@book{aristotle:physics,
%	  entrysubtype = {classic},
%	  author       = {Aristotle},
%	  title        = {Physics},
%	  ...
% }
%\end{verbatim}
%\end{latexcode}
%In the bibliography the entry is printed with the author-year label, but with the \opt{skipbib} option in the \opt{options} field you can exclude it from the bibliography.
%	\end{fieldlist}
%
%
%\subsection{Crossreferences}\label{sec:crossref}
%
%
%The \sty{philosophy} styles allow you to manage 
%entries referring to other entries through the \bibfield{crossref} fields. This is very useful when you have to cite two or more \bibtype{incollection} of the same \bibtype{collection} \parencite[see][]{corrocher:2009,federspil:2009}. In this way the \bibtype{collection} is printed in the bibliography and is cross-referenced inside the \bibtype{incollection}, using the corresponding author-year label (the mechanism is the same for \bibtype{inbook} items).
%
%
%When you have to cite only one \bibtype{incollection} of a single \bibtype{collection} you have three choices:
%		\begin{enumerate}
%		\item use the \bibfield{crossref} field  \parencite[see][]{Rossitto:1977,Termini:2007}. In this case all the  \bibtype{collection} data are automatically printed inside the \bibtype{incollection} entry;
%	\item put the \bibtype{collection} data in the fields of the \bibtype{incollection} entry \parencite[see][]{Valbusa:2007}. In this case the \bibtype{incollection} is self-contained;
%	\item put the \bibtype{collection} data in the fields of the \bibtype{incollection} entry and put the \bibtype{collection} label in the \bibfield{xref} field of the \bibtype{incollection} \parencite[see][]{kant:kpv:xref,kant:ku:xref}.
%		\end{enumerate}
%
%With the \sty{verbose} style, when citing \bibtype{incollection}s entries, the data of the \bibtype{collection} are printed entirely in the first citation and shortened afterwards. Anyway in the final bibliography the \bibtype{incollection} is always complete of all the informations about the corresponding \bibtype{collection}.
%
%
%
%
%\subsection{Annotated entries}\label{sec:annotated-entries}
% 
%
%\begin{fieldlist}
%
%\fielditem{library}{literal} 
%
%This field is printed at the end of the entry, in a new period. It is aimed for secondary informations such as the location of the texts, historical notes, etc. \parencite[see][]{heidegger:sz}.
%
%\fielditem{annotation/annote}{literal} 
%
%This field is printed in a new paragraph at the very end of the entry. It requires the \opt{annotation} package option. The default font can be changed  redefining the \cmd{annotationfont} command (section \ref{sec:fonts}). See the  examples in the references of this documentation.
%\end{fieldlist}
%
%
%\subsection{Citation commands}\label{sec:commands:citations}
%
%
%
%\begin{ltxsyntax}[2cm]
%
%\cmditem{sdcite}{key}
%
%Uses an author-title label instead of an author-year label (defined only for the \sty{classic} and \sty{modern} styles). 
%It is useful for some classical or undated works (see section \ref{sec:classical-works}). Writing
% \verb!\sdcite[15]{guzman:sd}! you will obtain: \sdcite{guzman:sd}.
% This command is deprecated. Use the \bibfield{entrysubtype} field instead (see section \ref{sec:classical-works}).
%
%\cmditem{footcitet}{key}
%
%\begin{minipage}{.9\textwidth}
%Same as \cmd{footcite},\footcite[12-13]{corrocher:2009} but with the \cmd{textcite} style.\footcitet[12-13]{corrocher:2009} (defined only for the \sty{classic}\\
% and \sty{modern} styles).
%\end{minipage}
%
%\cmditem{ccite}{key}
%
%The same as  \cmd{cite}, but omits the author's (editor's) name (defined only for the \sty{verbose} style). Here is an example:
%\begin{latexcode}
%\begin{verbatim}
%This topic is discussed in \cite{Rossi:2007} and in the recent 
%\ccite{Rossi:2008}.
%\end{verbatim}
%\end{latexcode}
%\begin{bibexample}
%This topic is discussed in P. Rossi, \emph{History of Types}, La TeXnica, Verona 2007 and in the recent \emph{Types of History}, Typographica, Milano 2008.
%\end{bibexample}
%\end{ltxsyntax}
%
%
%
%
%\section{Options}\label{sec:options}
%
%
%
%\subsection{Global}
%
%\begin{optionlist}
%\optitem[semicolon]{relatedformat}{\opt{semicolon}, \opt{parens}, \opt{brackets}}
%\begin{valuelist}
%\item[semicolon] 
%The ``related'' entry is preceded by a semicolon.
%			\begin{bibexample}%
%				Poincaré, Jules-Henri (1968), \emph{La science et l'hypothèse}, Paris,
%				 Flammarion\emphasize{; trad. it. \emph{La scienza e l'ipotesi}, Milano, 
%				 Bompiani 2003}.
%			\end{bibexample}
%\item[parens] 
%Puts the ``related'' entry in parentheses.
%				\begin{bibexample}%
%				Poincaré, Jules-Henri (1968), \emph{La science et l'hypothèse}, Paris, 
%				Flammarion \emphasize{(trad. it. \emph{La scienza e l'ipotesi}, Milano, 
%				Bompiani 2003)}.
%				\end{bibexample}
%\item[brackets] 
%Same as the previous option but with brackets.
%				\begin{bibexample}%
%				Poincaré, Jules-Henri (1968), \emph{La science et l'hypothèse}, Paris, 
%				Flammarion \emphasize{[trad. it. \emph{La scienza e l'ipotesi}, Milano, 
%				Bompiani 2003]}.
%				\end{bibexample}
%\end{valuelist}
%
%\boolitem[true]{shorthandintro}
%
%		\begin{valuelist}
%			\item[true] Prints a language-specific expression such as ``hence- forth cited as [<shorthand>]'' to introduce shorthands on the first citation. You can overwrite the default expression using the \bibfield{shorthandintro} field. Note that the alternative expression must include the shorthand.	
%			\begin{bibexample}
%			Kant (1968a [\emphasize{henceforth cited as KpV}])
%			\end{bibexample}
%
%			\item[false] Does not print the intro to the shorthand. Obviously, this option requires a list of shorthands (\cmd{printshorthand} command).
%		\end{valuelist}
%
%\boolitem[false]{scauthors}
%Prints the names (author, editor, etc.) at the beginning of the entry in small caps shape, both in citations and in bibliography:
%
%If you want \emph{all} the names (translator, commentator, etc.) in small caps, you have to redefine the \cmd{mkbibname...} commands (see \sty{biblatex} documentation for details).
%
%\boolitem[false]{scauthorsbib}
%Same as the previous, but only for the bibliography.
%
%\boolitem[false]{scauthorscite}
%Same as the previous, but only for the citations.
%
%\boolitem[false]{lowscauthors}
% Prints the initials of the names in lowercase small capitals.
% For example you will obtain \textsc{donald e. knuth} instead of \textsc{Donald E. Knuth}. If you need the uppercase  for some specific entries use the \cmd{MakeUppercase} command.
%
%\optitem[publocyear]{publocformat}{\opt{publocyear}, \opt{locpubyear}, \opt{loccolonpub}}
%	This option provides three styles for typesetting the ``publisher/location/date'' block. 
%	It is active also for the related entry (see above) and for the \bibfield{orig-}fields (see section \ref{sec:origfields}).
%				\begin{valuelist}[2.5cm]
%				\item[publocyear] Oxford University Press, Oxford 2007
%						
%				\item[locpubyear] Oxford, Oxford University Press, 2007
%						
%				\item[loccolonpub] Oxford: Oxford University Press, 2007 
%				\end{valuelist}
%
%\optitem[plain]{volnumformat}{\opt{strings}, \opt{parens}, \opt{plain}}
%This option provides three styles for typesetting the ``volume/number'' block in  \bibtype{article} entries.
%\begin{valuelist}
%				\item[plain]
%							\ldots \emph{Journal Title}, 5, 8, \ldots 
%				\item[strings] 
%							\ldots \emph{Journal Title}, vol.~5, n.~8, \ldots
%				\item[parens]
%							\ldots \emph{Journal Title} (5, 8), \ldots 
%				\end{valuelist}
%You can combine this option with \opt{volumeformat} options and re-defining the \cmd{volnumpunct}
%command you can get other styles (see section \ref{sec:lengths}):\\
%\vbox{
%					\begin{bibexample}
%					\ldots\ \emph{Journal Title}, 5/8, \ldots \\
%					\ldots\ \emph{Journal Title}, \textsc{V}/8, \ldots \\
%					\ldots\ \emph{Journal Title} (5/8), \ldots \\
%					\ldots\ \emph{Journal Title} (\textsc{V}/8), \ldots
%\end{bibexample}}
%
%\optitem[arabic]{volumeformat}{\opt{arabic}, \opt{roman}, \opt{romansc}, \opt{Roman}}
%This option provides three styles for typesetting the \bibfield{volume} field:
%				\begin{valuelist}
%				\item[arabic]
%								\ldots \emph{Book Title}, vol. 12, \ldots 
%					\item[roman] 
%								\ldots \emph{Book Title}, vol. xii, \ldots 
%					\item[romansc]
%								\ldots \emph{Book Title}, vol. \textsc{xii}, \ldots 
%					\item[Roman]
%								\ldots \emph{Book Title}, vol. XII, \ldots 
%					\end{valuelist}
%
%With the command
%\begin{latexcode}
%\begin{verbatim}
%\DeclareFieldFormat{volume}{\bibstring{volume}~#1}
%\end{verbatim}
%\end{latexcode}
%you can restore the default format for all but \bibtype{article} entries.
%
%\optitem[arabic]{editionformat}{\opt{arabic}, \opt{roman}, \opt{romansc}, \opt{Roman}, \opt{superscript}}
%This option provides three styles for typesetting the \bibfield{edition} field:
%				\begin{valuelist}
%				\item[arabic] 
%							\ldots \emph{Book Title}, 3\textsuperscript{a} ed., \ldots 
%					\item[roman] 
%							\ldots \emph{Book Title}, iii ed., \ldots 
%					\item[romansc] 
%							\ldots \emph{Book Title}, \textsc{iii} ed., \ldots 
%					\item[Roman] 
%							\ldots \emph{Book Title}, III ed., \ldots 
%					\item[superscript] 
%							\ldots \emph{Book Title}, Publisher, Location 2010\textsuperscript{3}. Available only for \sty{philosophy-verbose} style. 
%					\end{valuelist}
%
%\boolitem[false]{inbeforejournal}
%Prints the string ``in'' before the \bibfield{journaltitle} in the  \bibtype{article} entries.
%
%\boolitem[false]{annotation}
%Shows the \bibfield{annotation} field, only in the bibliography (see also section \ref{sec:annotated-entries}). 
%
%\boolitem[true]{library}
%Shows the \bibfield{library} field, both in the bibliography and in the citations (see also section \ref{sec:annotated-entries}). 
%
%\boolitem[false]{classical}
%
% [only for Italian and Spanish documents] It requires \sty{babel} or \sty{polyglossia}.
%
% If \opt{true} it doubles the last consonant of the abbreviations such as ``p.'', ``vol.'', ``col.'' etc. when used in the plural form. For example you will have ``p.'' for ``page'' and ``pp.'' for ``pages''. This habit is very common in Italian writings even if it remains useless. 
% 
% \end{optionlist}
%
%\subsection{Style-specific}
%
%
%
%\subsubsection[\sty{philosophy-classic} and 
%	\sty{philosophy-modern}]{\sty{philosophy-classic} and 
%	\sty{philosophy-modern}}\label{sec:options-classic-modern}
%
%
%
% \begin{optionlist}
%\boolitem[false]{square}
%
%Uses brackets instead of parentheses in the citations and in the author-year label used in the bibliography.
%
%\boolitem[true]{nodate} Prints the \texttt{nodate} string when \bibfield{year} or \bibfield{date} is missing.
%
%\boolitem[false]{yearleft}
%
% [\sty{philosophy-modern} only]
%
%Prints the  date flushed left in the bibliography.
%
%\boolitem[true]{restoreclassic}
%
% [\sty{philosophy-modern} only]
%
%This option can be given as an optional argument of \cmd{printbibliography}:
%\begin{latexcode}
%\begin{verbatim}
%\printbibliography[restoreclassic]
%\end{verbatim}
%\end{latexcode}
%It restores the \sty{classic} style in a document typeset using  the  \sty{modern} style. It is useful to compose a ``Web List'' like that at the end of this document (active only for the  \sty{philosophy-modern}). 
%
% \end{optionlist}
%
%\subsubsection{\sty{philosophy-verbose}}\label{sec:options-verbose}
%
% \begin{optionlist}
%\boolitem[false]{latinemph}
%Prints the \emph{latinitates} ``{ivi}'' and ``{ibidem}'' in italic shape.
%
%
%\boolitem[false]{commacit}
%Adds a comma at the end of the \bibfield{shorttitle} field when this is followed by the string \emph{cit.}: 
%``Descartes, \emph{Discours de la méthode}, cit. ''.
%\end{optionlist}
%
%	
%
%
%\section{Customizations}
%
% \subsection{Fonts}\label{sec:fonts}
%
%\begin{ltxsyntax}[1cm]
% \setlength{\labelwidth}{1cm}
%\cmditem{annotationfont}{code}\hfill default: \cmd{footnotesize}
%
%The font of the \bibfield{annotation} field. It can be redefined with:
%\begin{latexcode}
%\begin{verbatim}
%\renewcommand*{\annotationfont}{\normalsize\sffamily}
%\end{verbatim}
%\end{latexcode}
%
%\cmditem{libraryfont}{code}\hfill default: \cmd{normalfont}
%
%The font of the \bibfield{library} field. It can be redefined with:
%
%\begin{latexcode}
%\begin{verbatim}
%\renewcommand*{\libraryfont}{\sffamily}
%\end{verbatim}
%\end{latexcode}
%\end{ltxsyntax}
%
% \subsection{Punctuation}\label{sec:punctuation}
%
%\begin{ltxsyntax}[1cm]
% \setlength{\labelwidth}{1cm}
%\cmditem{volnumpunct}{code}\hfill default: \cmd{addcomma}\cmd{space}
% 
%The separator between \bibfield{volume} and \bibfield{number} in \bibtype{article} entries.
%It can be redefined with:
%\begin{latexcode}
%\begin{verbatim}
%\renewcommand*{\volnumpunct}{/}
%\end{verbatim}
%\end{latexcode}
%
%\end{ltxsyntax}
%
%
%\subsection{Lengths}\label{sec:lengths}
%
%
%The new lengths described in this section are defined only for the \sty{modern} style. For the other customizable lengths see the \sty{biblatex} documentation \parencite{lehman:biblatex}.
%
%\setlength{\labelwidth}{4cm}
%\begin{ltxsyntax}
%\lenitem{postnamesep}  
%
%The space between author (or editor) and the first entry relating to him.
%
%\lenitem{yeartitle} 
%
%The space between year and title. 
%\end{ltxsyntax}
%
%The \sty{modern} style redefines also the following \sty{biblatex} lengths:
%\begin{ltxsyntax}
%\lenitem{bibnamesep} The vertical space between two blocks of authors.
%\lenitem{bibitemsep} The vertical space between the individual entries in the bibliography.
%
%\lenitem{bibhang} The hanging indentation of the bibliography.
%
%\end{ltxsyntax}
%
%These are the default values for the lengths used by the \sty{modern} style:
%\begin{latexcode}
%\begin{verbatim}
%\setlength{\yeartitle}{0.8em}
%\setlength{\postnamesep}{0.5ex plus 2pt minus 1pt}
%\setlength{\bibitemsep}{\postnamesep}
%\setlength{\bibnamesep}{1.5ex plus 2pt minus 1pt}
%\setlength{\bibhang}{4\parindent}
%\end{verbatim}
%\end{latexcode}
%If you want to change them past these codes in the preamble of your document and modify the values according to your needs.
%	
%
%\subsection[Languages]{Using the styles with other languages}\label{sec:languages}
%
% The languages currently supported by this package  are Italian, English and Spanish. 
%
%In order to use the styles with different languages, you have to define in the preamble of your document all the string not defined in the localization file of the language loaded. This is a sample code for using the styles in german documents:
%\begin{latexcode}
%\begin{verbatim}
%\NewBibliographyString{edorig,cit}
%\DefineBibliographyStrings{german}{%
%	  inherit       = {german},
%	  translationas = {deut\adddotspace \"Ubers\adddot},
%	  edorig        = {...},
%	  cit           = {...},
%	  reviewof      = {...}}
%\end{verbatim}
%\end{latexcode}
% Another approach is to use the \cmd{DeclareLanguageMapping} command. See the documentation of the \sty{biblatex} package for details.
%
% \subsection{Date and page ranges}
%
%% These style redefines the \cmd{bibrangedash} and \cmd{bibdatedash} commands in order to get a simple hyphen (-) instead of an en dash (--) in the page and date ranges. If you prefer the en dash use the following code:
%\begin{verbatim}
%\DefineBibliographyExtras{<language>}{%
%  \protected\def\bibrangedash{%
%    \textendash\penalty\hyphenpenalty}%
%  \protected\def\bibdatedash{\bibrangedash}}%
%\end{verbatim}
% For a consistent result you probably have to do this for all the languages loaded by \sty{babel} or \sty{polyglossia}.
% 

%\section{Backward compatibility}
%
%
%
%This section explain a different mechanism (now deprecated) to manage
%entries comprising both the original publication data and the translation data. This mechanism uses some special fields.
%
%\subsection{Deprecated fields}\label{sec:origfields}
%
%The following fields can hold the translation or the original edition data. They are precede by the string ``trans.'' or ``orig. ed.'', respectively according to the \opt{origfields=trans} (default)  or \opt{origfields=origed} option (see below). Note that the \bibfield{origdate/transdate} field is needed in order to print these fields. Contrarily they will be ignored.

%
%\begin{fieldlist}
%
%\fielditem{origtitle}{literal}\mbox{}\\[-9ex] 
%\fielditem{transtitle}{literal \file{biber} only}  
%
%The title of the translation/original edition.
%
%\fielditem{origpublisher}{list}\mbox{}\\[-9ex] 
%\fielditem{transpublisher}{list \file{biber} only}  
%
%The publisher of the translation/original edition.
%
%\fielditem{origlocation}{list}\mbox{}\\[-9ex] 
%\fielditem{translocation}{list \file{biber} only}  
%
%The location of the translation/original edition.
%
%\fielditem{origdate}{range}\mbox{}\\[-9ex] 
%\fielditem{transdate}{range \file{biber} only} 
 
%
%The publication date of the translation/original edition.
%^^A\begin{bibexample}
%^^ARobert Bringhurst (1992), \emph{The Elements of Typographic Style}, Hartley \& Marks Publisher Inc., Vancouver, Canada; trad. it. \emphasize{\emph{Gli elementi dello stile tipografico}, Sylvestre Bonnard, Milano 2009.}
%^^A\end{bibexample}
%
%^^A \fielditem{reprinttitle}{literal (Bib\TeX only) -- Deprecated --} 
%
%\fielditem{usera}{literal}\mbox{}\\[-9ex] 
%\fielditem{origbooktitle}{literal \file{biber} only}\mbox{}\\[-9ex]
%\fielditem{transbooktitle}{literal \file{biber} only} 
%
%The title of the \bibtype{collection}/\bibtype{book}/\bibtype{mvbook} in which the translation/original edition  of an \bibtype{article} (\bibtype{inbook} or \bibtype{incollection}) is published. 
%
% The field is printed after the \bibfield{origtitle/transtitle}.
%^^A\vbox{
%^^A		\begin{bibexample}
%^^A		 Moore, George Edward (1903), «The refutation of idealism», \emph{Mind}, N.S., 12 (mag. 1903), p. 433-453; trad. it. «La confutazione dell'idealismo», in \emphasize{\emph{Il Neoempirismo}}, a cura di Alberto Pasquinelli, UTET, Torino 1969, p. 35-61.
%^^A		\end{bibexample}}
%
%\fielditem{userb}{literal}\mbox{}\\[-9ex] 
%\fielditem{orignote}{literal \file{biber} only}\mbox{}\\[-9ex]
%\fielditem{transnote}{literal \file{biber} only} 
%
%This field is printed after the \bibfield{origtitle/transtitle}. It is meat for secondary informations about the translation/original edition, such as the name of editors, translators, etc.:
%^^A		\begin{bibexample}
%^^A			 Mach, E. (1883), \emph{Die Mechanik in ihrer Entwickelung historisch-kritisch dargestellt}; trad. it. \emph{La meccanica nel suo sviluppo storico-critico}, \emphasize{traduzione, introduzione e note di Alfonsina D'Elia}, Bollati Boringhieri, Torino 1977.
%^^A		\end{bibexample}
%		
%\fielditem{userc}{literal}\mbox{}\\[-9ex]
%\fielditem{origpages}{literal \file{biber} only}\mbox{}\\[-9ex]
%\fielditem{transpages}{literal \file{biber} only}
%
%This field is printed at the end of the entry, after the  \bibfield{origdate/transdate} field. It is meant for the page range of the translation/original edition or other useful informations.
%In the first case string ``p.'' is omitted.
%\end{fieldlist}
%
%
%
%\subsection{Deprecated options}
%
%\begin{optionlist}
% \setlength{\labelwidth}{2.5cm}%
%\optitem[trans]{origfields}{\opt{trans}, \opt{none}, \opt{edorig}}
%\begin{valuelist}
%\item[true] Prints the \bibfield{orig-} fields.
%\item[none] Omits the \bibfield{orig-} fields.
%\item[origed] This option cites the translation data first and adds the original publication data at the end of the entry, preceded by the string ``orig.~ed'' (or ``ed.~orig.'' for Italian  documents).
%\end{valuelist}
%
%\boolitem[true]{origed}
%
%Same as the previous but can be set on a per-entry basis in the \opt{options} field. \parencite[see][]{Lobacevskij:1994}.
%
%\optitem[semicolon]{origfieldsformat}{\opt{semicolon}, \opt{parens}, \opt{brackets}}
% Deprecated. Use the \opt{relatedformat} option instead.
%\begin{valuelist}
%\item[semicolon] 
%The translation/original publication data are preceded by a semicolon.
%\item[parens] 
%Puts the translation or the original publication data  in parentheses.
%\item[brackets] 
%Same as the previous option but with brackets instead of parentheses.
%\end{valuelist}
%\end{optionlist}
%
%
%\defbibnote{notaesempio-english}{\small\sffamily See also \file{philosophy-examples.bib} in the
%``\texttt{texm-dist/doc/latex/biblatex-philosophy}'' directory 
%of your \TeX Live installation.}
% \defbibnote{restoreclassic}{\sffamily\small The bibliography style of the document is  \sty{philosophy-modern}, but in this list of references we use  \sty{philosophy-classic} through the \opt{restoreclassic} option. This is particularly useful for typesetting Web lists which.}
% \defbibnote{weblist}{\sffamily\small Here we have a list of Web sites typeset with the \sty{philosophy-classic} style through the \opt{restoreclassic} option.}
%\printbibliography[keyword=primaria,restoreclassic,prenote=restoreclassic]
%\printbibliography[title=Examples,nottype=online]
%
%\nocite{ctan,guit:sito}
%\printbibliography[title=Web List,keyword=web,type=online,restoreclassic,prenote=weblist]
%
%
% \StopEventually{\PrintChanges\PrintIndex}
%
% \section{The Code}
%
% \subsection{\file{philosophy-standard.bbx}}
%
% \iffalse
%<*standard-bbx>
% \fi
%
%    \begin{macrocode}
\RequireBiber[3]
\RequireBibliographyStyle{standard}
%    \end{macrocode}
% Load the localization modules:
%    \begin{macrocode}
\DeclareLanguageMapping{italian}{italian-philosophy}
\DeclareLanguageMapping{english}{english-philosophy}
\DeclareLanguageMapping{spanish}{spanish-philosophy}
%    \end{macrocode}
% \subsubsection{Global options}
%    \begin{macrocode}
\newtoggle{bbx:annotation}
\newtoggle{bbx:library}
\newtoggle{bbx:scauthors}
\newtoggle{bbx:scauthorsbib}
\newtoggle{bbx:inbeforejournal}
\newtoggle{bbx:classical}
\newtoggle{bbx:lowscauthors}

\newtoggle{cbx:shorthandintro}

\DeclareBibliographyOption{annotation}[true]{%
  \settoggle{bbx:annotation}{#1}}
\DeclareBibliographyOption{library}[true]{%
  \settoggle{bbx:library}{#1}}
\DeclareBibliographyOption{scauthors}[true]{%
  \settoggle{bbx:scauthors}{#1}}
\DeclareBibliographyOption{scauthorsbib}[true]{%
  \settoggle{bbx:scauthorsbib}{#1}}
\DeclareBibliographyOption{inbeforejournal}[true]{%
  \settoggle{bbx:inbeforejournal}{#1}}
\DeclareBibliographyOption{classical}[true]{%
  \settoggle{bbx:classical}{#1}}
\DeclareBibliographyOption{lowscauthors}[true]{%
  \settoggle{bbx:lowscauthors}{#1}}

\DeclareBibliographyOption{shorthandintro}[true]{%
  \settoggle{cbx:shorthandintro}{#1}}

  
\newcommand{\bbx@publocformat}{}
\newcommand{\bbx@volnumformat}{}
\newcommand{\bbx@relatedformat}{}
\newcommand{\bbx@origfields}{}
\newcommand{\bbx@editionformat}{}
\newcommand{\bbx@volumeformat}{}

\DeclareBibliographyOption{publocformat}[publocyear]{%
  \renewcommand{\bbx@publocformat}{#1}}
\DeclareBibliographyOption{volnumformat}[plain]{%
  \renewcommand{\bbx@volnumformat}{#1}}
\DeclareBibliographyOption{origfieldsformat}[semicolon]{%
  \renewcommand{\bbx@relatedformat}{#1}}
\DeclareBibliographyOption{relatedformat}[semicolon]{%
  \renewcommand{\bbx@relatedformat}{#1}}
\DeclareBibliographyOption{origfields}[true]{%
  \renewcommand{\bbx@origfields}{#1}}
\DeclareBibliographyOption{editionformat}[arabic]{%
  \renewcommand{\bbx@editionformat}{#1}}
\DeclareBibliographyOption{volumeformat}[arabic]{%
  \renewcommand{\bbx@volumeformat}{#1}}

\DeclareEntryOption{origed}[true]{%
  \renewcommand{\bbx@origfields}{origed}}

\ExecuteBibliographyOptions{%
  lowscauthors     = false, 
  publocformat     = publocyear,  
  annotation       = false, 
  library          = true,
  scauthors        = false,
  scauthorsbib     = false,
  origfieldsformat = semicolon,
  inbeforejournal  = false,
  volnumformat     = plain,
  editionformat    = arabic,
  volumeformat     = arabic,
  classical        = false,
  useprefix        = true,
  maxcitenames     = 2,
  mincitenames     = 1,
  maxbibnames      = 999,
  minbibnames      = 999,
  shorthandintro = true}
%    \end{macrocode}
% Changing the penalty of the urls will prevent 
% many overfull boxes. 
%    \begin{macrocode}
\setcounter{biburlnumpenalty}{9000}
\setcounter{biburlucpenalty}{9000}
\setcounter{biburllcpenalty}{9000}
%    \end{macrocode}
% These counters control the list of names
% of cross-referenced entries:
%    \begin{macrocode}
\newcounter{maxnamesincross}
\newcounter{minnamesincross}
%    \end{macrocode}
% \subsubsection{Name format}
%    \begin{macrocode}  
\AtBeginDocument{%
\iftoggle{bbx:lowscauthors}%
  {\newrobustcmd*{\mkbibsc}[1]{\textsc{\MakeLowercase{#1}}}}%
  {\newrobustcmd*{\mkbibsc}[1]{\textsc{#1}}}%
\iftoggle{bbx:scauthors}{%
  \toggletrue{bbx:scauthorsbib}%
  \toggletrue{cbx:scauthorscite}}%
{}}
\AtBeginBibliography{%
\iftoggle{bbx:scauthorsbib}{%
%\DeclareNameFormat{family-given/given-family}{%
%   \let\mkbibnamefamily\mkbibsc%
%   \let\mkbibnamegiven\mkbibsc%
%   \let\mkbibnameprefix\mkbibsc%
%   \let\mkbibnameaffix\mkbibsc%
%  \ifnumequal{\value{listcount}}{1}
%    {\iffirstinits
%       {\usebibmacro{name:family-given}{#1}{#4}{#5}{#7}}%
%       {\usebibmacro{name:family-given}{#1}{#3}{#5}{#7}}%
%     \ifblank{#3#5}
%       {}
%       {\usebibmacro{name:revsdelim}}}
%    {\iffirstinits
%       {\usebibmacro{name:given-family}{#1}{#4}{#5}{#7}}
%       {\usebibmacro{name:given-family}{#1}{#3}{#5}{#7}}}%
%  \usebibmacro{name:andothers}}%
\DeclareNameFormat{sortname}{%
   \let\mkbibnamefamily\mkbibsc%
   \let\mkbibnamegiven\mkbibsc%
   \let\mkbibnameprefix\mkbibsc%
   \let\mkbibnameaffix\mkbibsc%
  \nameparts{#1}%
  \ifnumequal{\value{listcount}}{1}
    {\ifgiveninits
       {\usebibmacro{name:family-given}
         {\namepartfamily}
         {\namepartgiveni}
         {\namepartprefix}
         {\namepartsuffix}}
       {\usebibmacro{name:family-given}
         {\namepartfamily}
         {\namepartgiven}
         {\namepartprefix}
         {\namepartsuffix}}%
     \ifboolexpe{%
       test {\ifdefvoid\namepartgiven}
       and
       test {\ifdefvoid\namepartprefix}}
       {}
       {\usebibmacro{name:revsdelim}}}
    {\ifgiveninits
       {\usebibmacro{name:given-family}
         {\namepartfamily}
         {\namepartgiveni}
         {\namepartprefix}
         {\namepartsuffix}}
       {\usebibmacro{name:given-family}
         {\namepartfamily}
         {\namepartgiven}
         {\namepartprefix}
         {\namepartsuffix}}}%
  \usebibmacro{name:andothers}}}%
  {}}%
%    \end{macrocode}
% \subsubsection{New internal commands}
%    \begin{macrocode}
\renewcommand*{\newunitpunct}{\addcomma\space}
\renewcommand*{\subtitlepunct}{\addperiod\space}
\renewcommand*{\intitlepunct}{\nopunct\addspace}
\newcommand*{\volnumpunct}{\addcomma\space}
%    \end{macrocode}
% We have to define a new internal command
% in order to get pure parenthese for some specific fields
% when using the \opt{square} option:
%    \begin{macrocode}
\newrobustcmd*{\mkpureparens}[1]{%
  \begingroup
  \blx@blxinit
  \blx@setsfcodes
  \blx@postpunct(#1\blx@postpunct)\midsentence%
  \endgroup}
%    \end{macrocode}
% \paragraph{Indexing}
%    \begin{macrocode}
\renewbibmacro*{citeindex}{%
\ifciteindex{\indexnames{labelname}}{}}%
\renewbibmacro*{bibindex}{%
\ifbibindex{\indexnames{author}%
\indexnames{editor}%
\indexnames{editora}%
\indexnames{editorb}%
\indexnames{editorc}}%
{}}%
%    \end{macrocode}
% \paragraph{Font selection}
%    \begin{macrocode}
\newcommand*{\annotationfont}{\footnotesize}
\newcommand*{\libraryfont}{}
\newcommand*{\editionfont}{%
    \ifdefstring{\bbx@editionformat}{Roman}
      {\uppercase}%
      {\ifdefstring{\bbx@editionformat}{romansc}
      {\scshape}%
      {\relax}}%
      }%
\newrobustcmd*{\edfnt}[1]{%
  \begingroup
  \expandafter\editionfont
  \expandafter{\romannumeral#1}%
  \endgroup}
%    \end{macrocode}
% \subsubsection{Fields formats}
%    \begin{macrocode}
\DeclareFieldFormat[bookinbook,thesis]{title}{\mkbibemph{#1}}
\DeclareFieldFormat[review]{title}{\bibstring{reviewof}\addspace#1}
\DeclareFieldFormat[review]{citetitle}{\bibstring{reviewof}\addspace#1}
\DeclareFieldFormat[inreference,article]{title}{\mkbibquote{#1}}
\DeclareFieldFormat[bookinbook,thesis]{citetitle}{\mkbibemph{#1}}
\DeclareFieldFormat{origtitle}{\mkbibemph{#1}}
\DeclareFieldFormat[article]{origtitle}{\mkbibquote{#1}}
\DeclareFieldFormat{usera}{\mkbibemph{#1}}
\DeclareFieldFormat[bookinbook,inbook]{usera}{\mkbibemph{#1}}
\DeclareFieldFormat[incollection]{usera}{\mkbibquote{#1}}
\DeclareFieldFormat{userc}{\mkpageprefix[bookpagination]{#1}}
\DeclareFieldFormat{url}{\url{#1}}
\DeclareFieldFormat{annotation}{\annotationfont #1}
\DeclareFieldFormat{library}{\libraryfont #1}
\DeclareFieldFormat{backrefparens}{\mkpureparens{#1}}
\DeclareFieldFormat{pureparens}{\mkpureparens{#1}}

\def\optionerror#1{%
\ClassError{biblatex-philosophy}
    {\MessageBreak**** Unknown value for '#1' option}
    {\MessageBreak**** Unknown value for '#1' option}
}

\DeclareFieldFormat{volume}{%
  \bibstring{volume}~%
  \ifinteger{#1}{%
  \ifdefstring{\bbx@volumeformat}{arabic}%
    {#1}%
    {\ifdefstring{\bbx@volumeformat}{Roman}%
       {\RN{#1}}%
       {\ifdefstring{\bbx@volumeformat}{romansc}%
         {\textsc{\Rn{#1}}}%
         {\ifdefstring{\bbx@volumeformat}{roman}%
           {\Rn{#1}}{\optionerror{volumeformat}}}}}}{#1}}

\DeclareFieldFormat[article]{volume}{%
\ifdefstring{\bbx@volnumformat}{strings}
  {\bibstring{volume}~}%
  {}%
  \ifinteger{#1}{%
  \ifdefstring{\bbx@volumeformat}{arabic}%
    {#1}%
    {\ifdefstring{\bbx@volumeformat}{Roman}%
       {\RN{#1}}%
       {\ifdefstring{\bbx@volumeformat}{romansc}%
         {\textsc{\Rn{#1}}}%
         {\ifdefstring{\bbx@volumeformat}{roman}%
           {\Rn{#1}}{\optionerror{volumeformat}}}}}}{#1}}

\DeclareFieldFormat*{number}{%
  \ifdefstring{\bbx@volnumformat}{strings}{%
    \bibstring{number}~#1}{#1}}
\DeclareFieldFormat*{series}{%
  \ifinteger{#1}
    {\mkbibordseries{#1}~\bibstring{jourser}}
    {\ifbibstring{#1}{\bibstring{#1}}{#1}}}
\DeclareFieldFormat{edition}{%
  \ifinteger{#1}{%
    \ifdefstring{\bbx@editionformat}{arabic}
      {\mkbibordedition{#1}~\bibstring{edition}}
      {\ifdefstring{\bbx@editionformat}{Roman}%
        {\RN{#1}~\bibstring{edition}}%
        {\ifdefstring{\bbx@editionformat}{romansc}%
          {\textsc{\Rn{#1}}~\bibstring{edition}}%
          {\ifdefstring{\bbx@editionformat}{roman}%
            {\Rn{#1}~\bibstring{edition}}
            {\ifdefstring{\bbx@editionformat}{superscript}%
            {\ClassError{biblatex-philosophy}
    {\MessageBreak**** Option 'editionformat=superscript' 
    available only for philosophy-verbose style}
    {\MessageBreak**** Option 'editionformat=superscript' 
    available only for philosophy-verbose style}
}{}}}}}}{#1}}%\isdot??
\DeclareFieldFormat{related}{%
  \ifdefstring{\bbx@relatedformat}{parens}%
  {\mkpureparens{#1}}%
  {\ifdefstring{\bbx@relatedformat}{brackets}%
  {\mkbibbrackets{#1}}%
  {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {#1}{\optionerror{relatedformat}}}}}%
%    \end{macrocode}
% \subsubsection{The \opt{orig-} macros (deprecated)}
% These macros are provided for backward compatibility.
% The new \opt{related} field mechanism now directly support
% also this feature.
%    \begin{macrocode}
\newbibmacro*{origpublisher+origlocation+origdate}{%
\ifdefstring{\bbx@publocformat}{loccolonpub}
{\usebibmacro{origloccolonpub}\setunit{\bibpagespunct}%
     \printfield{userc}}{\ifdefstring{\bbx@publocformat}{locpubyear}
{\usebibmacro{origlocpubyear}\setunit{\bibpagespunct}%
     \printfield{userc}}
{\usebibmacro{origpublocyear}\setunit{\bibpagespunct}%
     \printfield{userc}}}}
     
\newbibmacro*{origpublocyear}{%
\iflistundef{origpublisher}%
{\printlist{origlocation}%
\setunit*{\addspace}%
   \printorigdate}%
{\printlist{origpublisher}%
     \setunit*{\addcomma\space}%
\printlist{origlocation}%
\setunit*{\addspace}%
   \printorigdate}%
  \newunit}
  
\newbibmacro*{origloccolonpub}{%
\iflistundef{origlocation}{}%
  {\printlist{origlocation}}%
  \iflistundef{origpublisher}%
     {\setunit*{\addspace}%
\printorigdate}%
     {\setunit*{\addcolon\space}%
  \printlist{origpublisher}%
  \setunit*{\addcomma\space}%
  \printorigdate}%
  \newunit}
  
\newbibmacro*{origlocpubyear}{%
\iflistundef{origlocation}{}%
  {\printlist{origlocation}}%
  \iflistundef{origpublisher}%
     {\setunit*{\addspace}%
\printorigdate}%
     {\setunit*{\addcomma\space}%
  \printlist{origpublisher}%
  \setunit*{\addcomma\space}%
  \printorigdate}%
  \newunit}

\newbibmacro*{reprinttitle}{%
  \iffieldundef{reprinttitle}{}{%
   \iffieldsequal{reprinttitle}{title}{}{%
        \printfield[title]{reprinttitle}%
      \setunit{\addcomma\space}}}%
\iffieldundef{userb}{}{%
        \printfield{userb}}}%

\newbibmacro*{transorigstring}{%
\iffieldundef{reprinttitle}%
{\printtext{\ifdefstring{\bbx@origfields}{origed}
{\bibstring{origed}}%
{\bibstring{translationas}}}\nopunct}%
{\printtext{\bibstring{reprint}}}\nopunct}

\newbibmacro*{origtitle:book}{%
  \iffieldundef{origtitle}{}{
        \printfield[origtitle]{origtitle}%
      \setunit{\addcomma\space}}
\iffieldundef{userb}{}{%
        \printfield{userb}}}%

\newbibmacro*{origtitledata:book}{%
\usebibmacro{transorigstring}%
\iffieldundef{reprinttitle}%
{\usebibmacro{origtitle:book}}%
{\usebibmacro{reprinttitle}}%
\newunit\newblock
   \usebibmacro{origpublisher+origlocation+origdate}}

\newbibmacro*{origdata:book}{%
  \ifboolexpr{%
    test {\iffieldundef{origtitle}}
    and
    test {\iffieldundef{origlocation}}
    and
    test {\iffieldundef{origpublisher}}
    and
    test {\iffieldundef{origyear}}
  }%
  {}%
      {\ifdefstring{\bbx@relatedformat}{parens}
    {\nopunct\printtext[pureparens]{\usebibmacro{origtitledata:book}}}
    {\ifdefstring{\bbx@relatedformat}{brackets}
        {\nopunct\printtext[brackets]{\usebibmacro{origtitledata:book}}}
        {\setunit{\addsemicolon\space}%
            \printtext{\usebibmacro{origtitledata:book}}}}}}

\newbibmacro*{origtitle:article-inbook-incoll}{%
  \iffieldundef{origtitle}{}{%
        \printfield[origtitle]{origtitle}%
\setunit{\addcomma\space}}%
\iffieldundef{usera}{}{%
\usebibmacro{in:}%
\printfield{usera}%
             \setunit{\addcomma\space}}%
\iffieldundef{userb}{}{%
        \printfield{userb}%
       \newunit}}

\newbibmacro*{origtitledata:article-inbook-incoll}{%
        \usebibmacro{transorigstring}%
        \setunit{\addspace}%
        \usebibmacro{origtitle:article-inbook-incoll}%
        \usebibmacro{origpublisher+origlocation+origdate}}

\newbibmacro*{origdata:article-inbook}{%
    \iflistundef{origlocation}{}{%
        \ifdefstring{\bbx@relatedformat}{parens}
          {\nopunct\printtext[pureparens]{%
          \usebibmacro{origtitledata:article-inbook-incoll}}}%
             {\ifdefstring{\bbx@relatedformat}{brackets}
                {\nopunct\printtext[brackets]{%
            \usebibmacro{origtitledata:article-inbook-incoll}}}%
        {\setunit{\addsemicolon\space}%
     \printtext{%
  \usebibmacro{origtitledata:article-inbook-incoll}}}}}}
%    \end{macrocode}
% \subsubsection{New macros}
%    \begin{macrocode}
\renewbibmacro*{addendum+pubstate}{%
  \printfield{addendum}%
  \newunit\newblock
  \printfield{pubstate}%
  \ifdefstring{\bbx@origfields}{none}{}{%
   \newunit\newblock
  \usebibmacro{origdata:book}}%
  \newunit\newblock
  \usebibmacro{library}}

\newbibmacro*{addendum+pubstate:article-inbook-incoll}{%
  \printfield{addendum}%
  \newunit\newblock
  \printfield{pubstate}%
  \ifdefstring{\bbx@origfields}{none}{}{%
   \newunit\newblock
  \usebibmacro{origdata:article-inbook}}%
  \newunit\newblock
  \usebibmacro{library}}

\newbibmacro*{volnumdefault}{%
\printfield{volume}%
  \setunit*{\volnumpunct}%
  \printfield{number}}

\newbibmacro*{volnumparens}{%
\nopunct%
\printtext[pureparens]{%
\printfield{volume}%
  \setunit*{\volnumpunct}%
  \printfield{number}}}

\newbibmacro*{volnumstrings}{%
  \iffieldundef{volume}{}{%
    \printfield{volume}\setunit*{\volnumpunct}}%
 \iffieldundef{number}{}{%
   \printfield{number}}}

\renewbibmacro*{journal}{%
  \iffieldundef{journaltitle}
    {}
    {\printtext[journaltitle]{%
       \printfield[titlecase]{journaltitle}%
       \midsentence%MOD############
       \setunit{\subtitlepunct}%
       \printfield[titlecase]{journalsubtitle}}}}

\renewbibmacro*{periodical}{%
  \iffieldundef{title}
    {}
    {\printtext[title]{%
       \printfield[titlecase]{title}%
       \midsentence%MOD#############
       \setunit{\subtitlepunct}%
       \printfield[titlecase]{subtitle}}}}

\renewbibmacro*{journal+issuetitle}{%
  \usebibmacro{journal}%
  \setunit*{\addspace}%
  \iffieldundef{series}
    {}
    {\newunit%
     \printfield{series}\setunit{\addspace}\midsentence}%
     \newunit%
  \usebibmacro{volume+number+eid}%
  \setunit{\addspace}%
  \usebibmacro{issue+date}%
  \setunit{\addcolon\space}%
  \usebibmacro{issue}%
  \newunit}

\renewbibmacro*{title+issuetitle}{%
  \usebibmacro{periodical}%
  \setunit*{\addspace}%
  \iffieldundef{series}
    {}
    {\newunit
     \printfield{series}%
     \setunit{\addspace}\midsentence}%
  \newunit
  \usebibmacro{volume+number+eid}%
  \setunit{\addcomma\space}%
  \printfield{eid}%
  \setunit{\addspace}%
  \usebibmacro{issue+date}%
  \setunit{\addcolon\space}%
  \usebibmacro{issue}%
  \newunit}

\renewbibmacro*{volume+number+eid}{%
     \ifdefstring{\bbx@volnumformat}{strings}
      {\usebibmacro{volnumstrings}}%
      {\ifdefstring{\bbx@volnumformat}{parens}
      {\usebibmacro{volnumparens}}%
      {\ifdefstring{\bbx@volnumformat}{plain}
      {\usebibmacro{volnumdefault}}%
      {\optionerror{volnumformat}}}}%
  \setunit{\addcomma\space}%
  \printfield{eid}}
  
\renewbibmacro*{issue+date}{%
  \printtext[pureparens]{%
    \iffieldundef{issue}
      {\usebibmacro{date}}
      {\printfield{issue}%
       \setunit*{\addspace}%
       \usebibmacro{date}}}%
  \newunit}

\renewbibmacro*{event+venue+date}{%v0.8
  \printfield{eventtitle}%
  \ifboolexpr{%
    test {\iffieldundef{venue}}
    and
    test {\iffieldundef{eventyear}}
  }%
    {}
    {\setunit*{\addspace}%
     \printtext{%
       \printfield{venue}%
       \setunit*{\addcomma\space}%
       \printeventdate}}%
  \newunit}
 
\renewbibmacro*{series+number}{%
  \printfield{series}%
 \setunit*{\addcomma\space}%
  \printfield{number}%
  \newunit}

\renewbibmacro*{publisher+location+date}{%
\ifdefstring{\bbx@publocformat}{loccolonpub}
  {\usebibmacro{loccolonpub}}
    {\ifdefstring{\bbx@publocformat}{locpubyear}
    {\usebibmacro{locpubyear}}
      {\ifdefstring{\bbx@publocformat}{publocyear}%
      {\usebibmacro{publocyear}}{\optionerror{publocformat}}}}}

\renewbibmacro*{institution+location+date}{%
\ifdefstring{\bbx@publocformat}{loccolonpub}
  {\usebibmacro{inloccolonpub}}
    {\ifdefstring{\bbx@publocformat}{locpubyear}
    {\usebibmacro{inlocpubyear}}
      {\ifdefstring{\bbx@publocformat}{publocyear}%
      {\usebibmacro{inpublocyear}}{\optionerror{publocformat}}}}}

\renewbibmacro*{organization+location+date}{%
\ifdefstring{\bbx@publocformat}{loccolonpub}
  {\usebibmacro{orgloccolonpub}}
    {\ifdefstring{\bbx@publocformat}{locpubyear}
    {\usebibmacro{orglocpubyear}}
      {\ifdefstring{\bbx@publocformat}{publocyear}%
      {\usebibmacro{orgpublocyear}}{\optionerror{publocformat}}}}}

\newbibmacro*{library}{%
\iftoggle{bbx:library}{%
  \iffieldundef{library}%
  {}%
    {\setunit{\addperiod\space}%
      {\printfield{library}}}}%
    {}}
%    \end{macrocode}
% In this macro the \cmd{nopunct} command is needed
% to avoid the dot after the parentheses.
%    \begin{macrocode}
\renewbibmacro*{pageref}{%
  \iflistundef{pageref}
    {}%
    {\setunit{\addperiod\space}%
    \printtext[backrefparens]{%
       \ifnumgreater{\value{pageref}}{1}
         {\bibstring{backrefpages}\ppspace}%
 {\bibstring{backrefpage}\ppspace}%
       \printlist[pageref][-\value{listtotal}]{pageref}\adddot}\nopunct}}%

\renewbibmacro*{finentry}{%
  \iftoggle{bbx:annotation}%
    {\iffieldundef{annotation}%
      {\finentry}%
      {\setunit{\addperiod\par\nobreak\vspace*{.5ex}}%
      \printtext[annotation]{\printfield{annotation}\finentry\par}}}%
 {\finentry}}

\newbibmacro*{publocyear}{%
  \iflistundef{publisher}%
   {}%
{\printlist{publisher}}
  \setunit*{\addcomma\space}%
  \printlist{location}%
  \usebibmacro{relateddate}%
\newunit}

\newbibmacro*{inpublocyear}{%
  \iflistundef{institution}%
   {}%
{\printlist{institution}}
  \setunit*{\addcomma\space}%
  \printlist{location}%
  \usebibmacro{relateddate}%
\newunit}

\newbibmacro*{orgpublocyear}{%
  \iflistundef{organization}%
   {}%
{\printlist{organization}}
  \setunit*{\addcomma\space}%
  \printlist{location}%
  \usebibmacro{relateddate}%
\newunit}

\newbibmacro*{loccolonpub}{%
  \printlist{location}%
  \iflistundef{publisher}%
   {\setunit*{\addspace}}
     {\setunit*{\addcolon\space}}%
  \printlist{publisher}%
  \usebibmacro{commarelateddate}%
\newunit}

\newbibmacro*{inloccolonpub}{%
  \printlist{location}%
  \iflistundef{institution}
    {\setunit*{\addspace}}
    {\setunit*{\addcolon\space}}%
  \printlist{institution}%
  \usebibmacro{commarelateddate}%
  \newunit}
  
\newbibmacro*{orgloccolonpub}{%
  \printlist{location}%
  \iflistundef{organization}
    {\setunit*{\addspace}}
    {\setunit*{\addcolon\space}}%
  \printlist{organization}%
  \usebibmacro{commarelateddate}%
  \newunit}
  
\newbibmacro*{locpubyear}{%
  \printlist{location}%
  \iflistundef{publisher}%
   {\setunit*{\addspace}}
     {\setunit*{\addcomma\space}}%
  \printlist{publisher}%
  \usebibmacro{commarelateddate}%
\newunit}

\newbibmacro*{inlocpubyear}{%
  \printlist{location}%
  \iflistundef{institution}
    {\setunit*{\addspace}}
    {\setunit*{\addcomma\space}}%
  \printlist{institution}%
  \usebibmacro{commarelateddate}%
  \newunit}
  
\newbibmacro*{orglocpubyear}{%
  \printlist{location}%
  \iflistundef{organization}
    {\setunit*{\addspace}}
    {\setunit*{\addcomma\space}}%
  \printlist{organization}%
  \usebibmacro{commarelateddate}%
  \newunit}
%    \end{macrocode}
% \subsubsection{The \bibfield{related} field mechanism}
%    \begin{macrocode}
\newbibmacro*{relateddate}{%
  \setunit*{\addspace}%
  \printdate}
\newbibmacro*{commarelateddate}{%
  \setunit*{\addcomma\space}%
  \printdate}
%    \end{macrocode}
% A trick to delete the author/editor list for related
% entries and \cmd{ccite} command:
%    \begin{macrocode}
\newbibmacro*{related:clearauthors}{%
  \renewbibmacro*{author/translator+others}{\usebibmacro{bbx:savehash}}%
  \renewbibmacro*{author/editor+others/translator+others}{%
    \usebibmacro{bbx:savehash}}%
  \renewbibmacro*{editor+others}{\usebibmacro{bbx:savehash}}%
  \renewbibmacro*{author/translator+others}{\usebibmacro{bbx:savehash}}%
  \renewbibmacro*{author/editor}{\usebibmacro{bbx:savehash}}%
  \renewbibmacro*{author}{\usebibmacro{bbx:savehash}}%
  \renewbibmacro*{editor}{\usebibmacro{bbx:savehash}}%
  \renewcommand*{\labelnamepunct}{}}%

\DeclareCiteCommand{\relatedcite}
  {}%
  {\usedriver
     {\DeclareNameAlias{sortname}{default}%
  \usebibmacro{related:clearauthors}%
  \renewbibmacro*{relateddate}{%
    \setunit*{\addspace}\printdate}%
  \renewbibmacro*{commarelateddate}{%
    \setunit*{\addcomma\space}\printdate}}%
     {\thefield{entrytype}}}%
  {}%
  {}%

\renewbibmacro*{related:default}[1]{%
  \togglefalse{cbx:scauthorscite}%
  \togglefalse{bbx:annotation}%
\iffieldundef{relatedstring}%
  {\bibstring{translationas}\space}%
  {\printtext{\addspace}}%
  \ifentrytype{article}{}{%horrible trick
  \renewcommand*{\mkpureparens}{\unspace\addsemicolon\space}%
  \renewcommand*{\mkbibbrackets}{\unspace\addsemicolon\space}}%
  \relatedcite{\thefield{related}}}
%    \end{macrocode}
% \subsubsection{Bibliography drivers}
%    \begin{macrocode}
 \DeclareBibliographyDriver{article}{%
\renewbibmacro*{related:default}[1]{%
  \togglefalse{cbx:scauthorscite}%
  \togglefalse{bbx:annotation}%
\iffieldundef{relatedstring}%
  {\bibstring{translationas}\space}%
  {\setunit{\bibstring{translationas}\space}}%
  \relatedcite{\thefield{related}}}%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{bytranslator+others}%
  \newunit\newblock
  \printfield{version}%
  \newunit\newblock
  \iftoggle{bbx:inbeforejournal}{\usebibmacro{in:}}{}%
  \usebibmacro{journal+issuetitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \usebibmacro{note+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{issn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%MOD
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}{\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock  
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}
  
\DeclareBibliographyDriver{book}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{booklet}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{howpublished}%
  \newunit\newblock
  \printfield{type}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{collection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{editor+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{inbook}{%
\togglefalse{cbx:scauthorscite}%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \iffieldundef{xref}%
   {\iffieldundef{crossref}{\usebibmacro{inbook:full}}%
   {\bbx@crossref@inbook{\thefield{crossref}}%
   \newunit\newblock
   \usebibmacro{crossrefdata}}}%
   {\bbx@crossref@inbook{\thefield{xref}}%
   \newunit\newblock
   \usebibmacro{xrefdata}}}%

\newbibmacro*{inbook:full}{%
  \usebibmacro{bybookauthor}%
  \newunit\newblock
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{incollection}{%
\togglefalse{cbx:scauthorscite}%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \iffieldundef{xref}%
   {\iffieldundef{crossref}{\usebibmacro{incollection:full}}%
   {\bbx@crossref@incollection{\thefield{crossref}}%
   \newunit\newblock
   \usebibmacro{crossrefdata}}}%
   {\bbx@crossref@incollection{\thefield{xref}}%
   \newunit\newblock
   \usebibmacro{xrefdata}}}

  \newbibmacro*{incollection:full}{%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{inproceedings}{%
\togglefalse{cbx:scauthorscite}%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{in:}%
  \iffieldundef{xref}%
   {\iffieldundef{crossref}{\usebibmacro{inproceedings:full}}%
   {\bbx@crossref@incollection{\thefield{crossref}}%
   \newunit\newblock
   \usebibmacro{crossrefdata}}}%
   {\bbx@crossref@incollection{\thefield{xref}}%
   \newunit\newblock
   \usebibmacro{xrefdata}}}

\newbibmacro*{inproceedings:full}{%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{event+venue+date}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{manual}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor}%
  \newunit\newblock
  \printfield{edition}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{type}%
  \newunit
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{misc}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{howpublished}%
  \newunit\newblock
  \printfield{type}%
  \newunit
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{organization+location+date}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{online}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit\newblock
  \usebibmacro{date}%
  \newunit\newblock
  \iftoggle{bbx:eprint}
    {\usebibmacro{eprint}}
    {}%
  \newunit\newblock
  \usebibmacro{url+urldate}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{patent}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{type}%
  \setunit*{\addspace}%
  \printfield{number}%
  \iflistundef{location}
    {}
    {\setunit*{\addspace}%
     \printtext[parens]{%
       \printlist[][-\value{listtotal}]{location}}}%
  \newunit\newblock
  \usebibmacro{byholder}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{date}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{periodical}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{editor}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title+issuetitle}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byeditor}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{issn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{proceedings}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{editor+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{event+venue+date}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{report}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{type}%
  \setunit*{\addspace}%
  \printfield{number}%
  \newunit\newblock
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{institution+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isrn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{thesis}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \printfield{type}%
  \newunit
  \usebibmacro{institution+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{unpublished}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \printfield{howpublished}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{location+date}%
  \newunit\newblock
  \iftoggle{bbx:url}
    {\usebibmacro{url+urldate}}
    {}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}
  
\DeclareBibliographyDriver{set}{%
  \protect\PackageWarningNoLine{biblatex-philosophy}{%
  \MessageBreak 
  Entry type @set is not supported\MessageBreak 
  by the 'biblatex-philosophy' styles.\MessageBreak
  All the @set entries will be ignored}}

% ripristina ordine nome cognome nelle voci inbook:full
\renewbibmacro*{bybookauthor}{%
  \ifnamesequal{author}{bookauthor}%
    {}%
    {\printnames[default]{bookauthor}}}
  
\newbibmacro*{cross:maintitle+booktitle}{%
     \iffieldundef{volume}
       {}%
       {\printfield{volume}%
        \printfield{part}%
        \setunit{\addcolon\space}%
          \printfield{booktitle}}}%

\newbibmacro*{xrefdata}{%
  \usebibmacro{cross:maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
%  \newunit
%  \iffieldundef{maintitle}
%    {\printfield{volume}%
%     \printfield{part}}
%    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\newbibmacro*{crossrefdata}{%
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}
%    \end{macrocode}
% \paragraph{Experimental drivers for jurisprudence}
% This feature is available for now only for Italian documents.
%    \begin{macrocode}
%\DeclareFieldFormat[jurisprudence]{title}{#1}
%\DeclareFieldFormat[jurisprudence]{pages}{#1}
%\ExecuteBibliographyOptions[jurisprudence]{skipbib=true}%
\DeclareFieldFormat[jurisdiction]{volume}{\RN{#1}}
\DeclareFieldFormat[jurisdiction]{number}{\bibsstring{number}~{#1}}
\DeclareFieldFormat[jurisdiction]{nameaddon}{%
  \ifinteger{#1}{\bibcpsstring{section}~\RN{#1}}{#1}}
\DeclareFieldFormat[jurisdiction]{pages}{%
  \iffieldundef{bookpagination}{#1}{\mkpageprefix[bookpagination]{#1}}}
\DeclareFieldFormat[jurisdiction]{title}{%
 \iffieldequalstr{entrysubtype}{international}{\emph{#1}}{#1}}
\DeclareFieldFormat[jurisdiction]{notacomm}{nt\adddotspace#1}   %    \end{macrocode}
% A new macro to manage authors of \bibtype{jurisdiction} entries.
%    \begin{macrocode}
\newbibmacro*{juris:author}{%
%    \end{macrocode}
% Use the default name format: ``name surname''
%    \begin{macrocode}
\DeclareNameAlias{sortname}{default}%
  \ifboolexpr{%
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }%
    {%
    \iffieldequalstr{type}{conclusions}{%
    \printtext{Conclusioni dell'Avv\adddotspace generale}%
    \setunit{\addspace}}{}%
\printnames{author}%
     \iffieldundef{authortype}
       {}
       {\setunit{\addcomma\space}%
	\usebibmacro{authorstrg}}}
    {}%
\iffieldequalstr{type}{conclusions}{%
    \setunit{\addspace}%
  \printtext{presentate il}%
    \setunit{\addspace}%
  }{%
    \setunit{\addcomma\space}%
  \iffieldundef{nameaddon}{}{%
\printtext{\printfield{nameaddon}%
\setunit{\addcomma\space}}}%
  }%
        \printeventdate}

\newbibmacro*{addendum+pubstate:juris}{%
  \printfield{usera}%notacomm
  \newunit\newblock
  \printfield{addendum}%
  \newunit\newblock
  \printfield{pubstate}%
  \ifdefstring{\bbx@origfields}{none}{}{%
   \newunit\newblock
  \usebibmacro{origdata:article-inbook}}%
  \newunit\newblock
  \usebibmacro{library}}
    
\DeclareBibliographyDriver{jurisdiction}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{juris:author}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \iffieldundef{booktitle}{}{%
  \usebibmacro{in:}%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
\printtext{%
	 \printfield{labelyear}%
	 \printfield{extrayear}}
	   \usebibmacro{byeditor+others}%
  \newunit\newblock
  \printfield{edition}%
  \newunit
%  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock}
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:juris}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}
%    \end{macrocode}
% Define new fields for \bibtype{jurisdiction} entry types and
% \opt{orig-} fields mechanism:
%    \begin{macrocode}
\DeclareStyleSourcemap{
\maps[datatype=bibtex]{
    \map{
     \step[fieldsource=court         , fieldtarget=author]
     \step[fieldsource=notacomm      , fieldtarget=usera]
     \step[fieldsource=section       , fieldtarget=nameaddon]
     \step[fieldsource=transdate     , fieldtarget=origdate]
     \step[fieldsource=transtitle    , fieldtarget=origtitle]
     \step[fieldsource=tranpublisher , fieldtarget=origpublisher]
     \step[fieldsource=translocation , fieldtarget=origlocation]
     \step[fieldsource=transbooktitle, fieldtarget=usera]
     \step[fieldsource=transnote     , fieldtarget=userb]
     \step[fieldsource=transpages    , fieldtarget=userc]
     \step[fieldsource=origbooktitle , fieldtarget=usera]
     \step[fieldsource=orignote      , fieldtarget=userb]
     \step[fieldsource=origpages     , fieldtarget=userc]
      }
    }
  }
\DeclareDataInheritance{*}{*}{\noinherit{annotation}}

\DeclareFieldAlias[jurisdiction]{usera}[jurisdiction]{notacomm}
\DeclareFieldAlias[jurisdiction]{nameadddon}[jurisdiction]{section}
\DeclareFieldAlias[jurisdiction]{author}[jurisdiction]{court}

%    \end{macrocode}
% \iffalse
%</standard-bbx>
% \fi
%
% \subsection{\file{philosophy-classic.bbx}}
%
% \iffalse
%<*classic-bbx>
% \fi
% \subsubsection{Initial settings}
%    \begin{macrocode}
\RequireBibliographyStyle{authoryear}
\RequireBibliographyStyle{philosophy-standard}

\newtoggle{bbx:square}
\newtoggle{bbx:nodate}

\DeclareBibliographyOption{square}[true]{%
  \settoggle{bbx:square}{#1}}
\DeclareBibliographyOption{nodate}[true]{%
  \settoggle{bbx:nodate}{#1}}

\ExecuteBibliographyOptions{%
  nodate      = true,
  uniquename  = false,
  pagetracker = true,
  singletitle = false,
  square      = false,
  mergedate   = basic,  
  dashed      = true,
}
%    \end{macrocode}
% The \opt{classic} and \opt{modern} styles 
% redefine the \texttt{relateddate} and \texttt{commarelateddate} macros
% because the date have to be printed after the name of the author/editor.
% In the list of shorthands we need a standard entry,
% with the date at the end and no date after the name of the author/editor
% so we overwrite these macros locally:
%    \begin{macrocode}
\AtBeginShorthands{%
\togglefalse{bbx:annotation}%
\renewcommand{\labelnamepunct}{\addcomma\space}%
\renewbibmacro*{relateddate}{%
  \setunit*{\addspace}%
  \printdate}%
\renewbibmacro*{commarelateddate}{%
  \setunit*{\addcomma\space}%
  \printdate}%
\DeclareCiteCommand{\bbx@crossref@inbook}
  {}%
  {\iffieldundef{shorthand}{%
  \usebibmacro{citeindex}%
  \ifuseeditor{%
    \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}}%
     {\usebibmacro{labeltitle}}%
    \setunit*{\addspace}%
    \usebibmacro{date+extrayear:crossref}}%
    {\usebibmacro{cite:shorthand}}}%
  {}%
  {}%
\DeclareCiteCommand{\bbx@crossref@incollection}%
  {}%
  {\iffieldundef{shorthand}{%
  \usebibmacro{citeindex}%
  \ifuseeditor{%
    \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}}%
     {\usebibmacro{labeltitle}}%
    \setunit*{\addspace}%
    \usebibmacro{date+extrayear:crossref}}%
    {\usebibmacro{cite:shorthand}}}%
  {}%
  {}%
\newbibmacro*{date+extrayear:crossref}{%
      \begingroup%
        \clearfield{month}%
        \clearfield{day}%
    \ifboolexpr{%
      test {\iffieldundef{date}}
      and
      test {\iffieldundef{year}}
    }%
      {\iftoggle{bbx:nodate}{\printtext[parens]{%
        \midsentence\bibstring{nodate}}}{}}%
      {\printtext[parens]{\printdateextra}}%
       \endgroup}%
\newbibmacro*{date+extrayear}{}%
% for article entries:
\renewbibmacro*{date}{\printdate}%
\renewbibmacro*{issue+date}{%
  \printtext[pureparens]{%
    \iffieldundef{issue}
      {\usebibmacro{date}}
      {\printfield{issue}%
       \setunit*{\addspace}%
       \usebibmacro{date}}}%
  \newunit}
  }%

\AtBeginDocument{%
  \iftoggle{bbx:square}
    {\renewcommand{\bibopenparen}{\bibopenbracket}%
    \renewcommand{\bibcloseparen}{\bibclosebracket}}%
    {}%
  \setcounter{maxnamesincross}{\value{maxnames}}%
  \setcounter{minnamesincross}{\value{minnames}}%
}%

\AtEveryBibitem{%
\iffieldequalstr{entrysubtype}{classic}{%
  \togglefalse{bbx:nodate}}}%

%    \end{macrocode}
% \subsubsection{New macros}
%
% Renew the bibliography macro 'relateddate'
% to delete the date at the end of the entry:
%    \begin{macrocode}
\renewbibmacro*{relateddate}{}
\renewbibmacro*{commarelateddate}{}
%    \end{macrocode}
% \paragraph{Dates}
%    \begin{macrocode}
  \renewbibmacro*{issue+date}{%
    \ifboolexpr{%
      test {\iffieldundef{issue}}
      and
      test {\iffieldundef{month}}
    }%
      {}%
      {\ifdefstring{\bbx@volnumformat}{parens}%
      {\printtext{%
        \printfield{issue}\setunit*{\addspace}%
        \printdate}}%
      {\printtext[pureparens]{%
        \printfield{issue}\setunit*{\addspace}%
        \printdate}}}%
    \newunit}%
%    \end{macrocode}
% Delete ``month'' from \cmd{printdateextra} 
% to print open ranges such as: ``1968-'':
%    \begin{macrocode}
\renewbibmacro*{date+extrayear}{%
      \begingroup%
        \clearfield{month}%
        \clearfield{day}%
    \ifboolexpr{%
      test {\iffieldundef{date}}
      and
      test {\iffieldundef{year}}
    }%
      {\iftoggle{bbx:nodate}{\printtext[parens]{%
        \midsentence\bibstring{nodate}}}{}}%
      {\printtext[parens]{\printdateextra}}%
       \endgroup}%
%    \end{macrocode}
% \paragraph{Authors and editors}
%    \begin{macrocode}
\renewbibmacro*{author}{%
  \ifboolexpr{%
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {\bibnamedash}%
       {\usebibmacro{bbx:savehash}%
        \printnames{author}%
        \iffieldundef{nameaddon}{}%
        {\setunit{\addspace}%
        \printtext[brackets]{\printfield{nameaddon}}}%
\iffieldundef{authortype}%
  {\setunit{\addspace}}%
  {\setunit{\addcomma\space}}}%
     \iffieldundef{authortype}%
       {}%
       {\usebibmacro{authorstrg}%
\setunit{\addspace}}}%
    {\global\undef\bbx@lasthash%
     \usebibmacro{labeltitle}%
     \setunit*{\addspace}}%
  \usebibmacro{date+extrayear}}%

\renewbibmacro*{editor}{%
  \usebibmacro{bbx:editor}{editorstrg}}%
\renewbibmacro*{editor+others}{%
  \usebibmacro{bbx:editor}{editor+othersstrg}}%
\renewbibmacro*{bbx:editor}[1]{%
  \ifboolexpr{%
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {\bibnamedash}%
       {\printnames{editor}%
\setunit{\addspace}%
\usebibmacro{bbx:savehash}}%
     \usebibmacro{#1}%
     \clearname{editor}%
     \setunit{\addspace}}%
    {\global\undef\bbx@lasthash%
     \usebibmacro{labeltitle}%
     \setunit*{\addspace}}%
  \usebibmacro{date+extrayear}}%
%    \end{macrocode}
% \subsubsection{Internal commands for crossreferences}
%    \begin{macrocode}
\DeclareCiteCommand{\bbx@crossref@inbook}%
  {}%
  {\usebibmacro{citeindex}%
  \ifuseeditor{%
    \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}}%
     {\usebibmacro{labeltitle}}%
    \setunit*{\addspace}%
    \usebibmacro{date+extrayear}}%
  {}%
  {}%

\DeclareCiteCommand{\bbx@crossref@incollection}%
  {}%
  {\usebibmacro{citeindex}%
  \ifuseeditor{%
    \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}}%
     {\usebibmacro{labeltitle}}%
    \setunit*{\addspace}%
    \usebibmacro{date+extrayear}}%
  {}%
  {}%
%    \end{macrocode}
% The \opt{restoreclassic} option is redundant for the 
% philosophy-classic style. Anyway it is defined to avoid 
% error messages:
%    \begin{macrocode}
\define@key{blx@bib1}{restoreclassic}[]{}
\define@key{blx@bib2}{restoreclassic}[true]{}
%    \end{macrocode}
% \subsubsection[The \opt{nodate} option]{The \opt{nodate} option for \cmd{printbibliography}}
%    \begin{macrocode}
\define@key{blx@bib1}{nodate}[]{}%
\define@key{blx@bib2}{nodate}[true]{%
  \ifstrequal{#1}{false}{%
  \togglefalse{bbx:nodate}%
}{}}%
%    \end{macrocode}
% \iffalse
%</classic-bbx>
% \fi
%
% \subsection{\file{philosophy-modern.bbx}}
%
% \iffalse
%<*modern-bbx>
% \fi
% \subsubsection{Initial settings}
%    \begin{macrocode}
\RequireBibliographyStyle{philosophy-classic}
%    \end{macrocode}
% The \sty{modern} style has only one specific option
% which is turned off by default:
%    \begin{macrocode}
\newtoggle{bbx:yearleft}
\DeclareBibliographyOption{yearleft}[true]{%
  \settoggle{bbx:yearleft}{#1}}
\ExecuteBibliographyOptions{%
  yearleft=false}
%    \end{macrocode}
% \subsubsection{New lengths}
%    \begin{macrocode}
\newlength{\yeartitle}
\newlength{\postnamesep}
\setlength{\yeartitle}{0.8em}
\setlength{\postnamesep}{0.5ex plus 2pt minus 1pt}
\setlength{\bibitemsep}{\postnamesep}
\setlength{\bibnamesep}{1.5ex plus 2pt minus 1pt}
\setlength{\bibhang}{4\parindent}

\AtBeginBibliography{%
\iftoggle{bbx:yearleft}{%
\setlength{\yeartitle}{\fill}}%
{}}
%    \end{macrocode}
% \subsubsection{New commands}
%    \begin{macrocode}
\newcommand{\postsep}{\par\nobreak\vskip\postnamesep%
  \hskip-\bibhang\ignorespaces}
\renewcommand{\labelnamepunct}{}

\AtBeginShorthands{%
\renewcommand{\postsep}{\addspace}%
\renewcommand{\labelnamepunct}{\newunitpunct}}
%    \end{macrocode}
% \subsubsection{New macros}
% \paragraph{Dates}
%    \begin{macrocode}
\renewbibmacro*{date+extrayear}{%
      \begingroup%
        \clearfield{month}%
        \clearfield{day}%
  \makebox[\bibhang][r]{\printtext{%
    \ifboolexpr{%
      test {\iffieldundef{date}}
      and
      test {\iffieldundef{year}}
    }%
    {\iftoggle{bbx:nodate}{\printtext{%
      \midsentence\bibstring{nodate}}}{}}%
    {\printtext{\printdateextra}}%
    \hskip\yeartitle}}%
       \endgroup}%

\renewbibmacro*{labeltitle}{%
  \iffieldundef{label}%
    {\iffieldundef{shorttitle}%
    {\printfield{title}\clearfield{title}}%
    {\printfield[title]{shorttitle}}}%
  {\printtext{\printfield{label}}%
\postsep}}
%    \end{macrocode}
% \paragraph{Authors and editors}
%    \begin{macrocode}
\renewbibmacro*{author}{%
  \ifboolexpr{%
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {}%
       {\usebibmacro{bbx:savehash}%
        \printnames{author}%
        \iffieldundef{nameaddon}{}%
        {\setunit{\addspace}%
        \printtext[brackets]{\printfield{nameaddon}}}%
         \iffieldundef{authortype}%
         {}%
         {\setunit{\addcomma\space}}%
        \usebibmacro{authorstrg}%
    \postsep}}%
      {\global\undef\bbx@lasthash%
      \usebibmacro{labeltitle}%
      \setunit*{\addspace}}%
  \usebibmacro{date+extrayear}}%
  
\renewbibmacro*{editor}{%
  \usebibmacro{bbx:editor}{editorstrg}}%
\renewbibmacro*{editor+others}{%
  \usebibmacro{bbx:editor}{editor+othersstrg}}%
\renewbibmacro*{bbx:editor}[1]{%
 \ifboolexpr{%
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {}%
       {\printnames{editor}%
     \postsep%ADD
   \usebibmacro{bbx:savehash}}}%
     {\global\undef\bbx@lasthash%
     \usebibmacro{labeltitle}}%
  \usebibmacro{date+extrayear}%
    \iffieldundef{label}%
    {\usebibmacro{#1}%
    \clearname{editor}%
    \printtext{\addcomma\space}}{}}%
%    \end{macrocode}
% \subsubsection{Internal commands for crossreferences}
%    \begin{macrocode}
\DeclareCiteCommand{\bbx@crossref@inbook}%
  {}%
  {\usebibmacro{citeindex}%
  \ifuseeditor{%
    \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}}%
     {\usebibmacro{labeltitle}}%
    \setunit*{\addspace}%
    \usebibmacro{classic:date+extrayear}}%
  {}%
  {}%

\DeclareCiteCommand{\bbx@crossref@incollection}%
  {}%
  {\usebibmacro{citeindex}%
  \ifuseeditor{%
    \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}}%
     {\usebibmacro{labeltitle}}%
    \setunit*{\addspace}%
    \usebibmacro{classic:date+extrayear}}%
  {}%
  {}%

\newbibmacro*{classic:date+extrayear}{%
      \begingroup%
        \clearfield{month}%
        \clearfield{day}%
    \ifboolexpr{%
      test {\iffieldundef{date}}
      and
      test {\iffieldundef{year}}
    }%
      {\iftoggle{bbx:nodate}{\printtext[parens]{%
        \midsentence\bibstring{nodate}}}{}}%
      {\printtext[parens]{%
	 \printfield{labelyear}%
	 \printfield{extrayear}}}%
       \endgroup}%
%    \end{macrocode}
% \subsubsection{The \opt{restoreclassic} option}
%    \begin{macrocode}
\define@key{blx@bib1}{restoreclassic}[]{}
\define@key{blx@bib2}{restoreclassic}[true]{%
  \ifstrequal{#1}{true}{%
  \setlength{\bibhang}{\parindent}%
  \renewcommand{\labelnamepunct}{\newunitpunct}%
\renewbibmacro*{date+extrayear}{%
      \begingroup%
        \clearfield{month}%
        \clearfield{day}%
    \ifboolexpr{%
      test {\iffieldundef{date}}
      and
      test {\iffieldundef{year}}
    }%
      {\iftoggle{bbx:nodate}{\printtext[parens]{%
        \midsentence\bibstring{nodate}}}{}}%
      {\printtext[parens]{\printdateextra}}%
       \endgroup}%
\renewbibmacro*{author}{%
  \ifboolexpr{%
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {\bibnamedash}%
       {\usebibmacro{bbx:savehash}%
        \printnames{author}%
        \iffieldundef{nameaddon}{}%
        {\setunit{\addspace}%
        \printtext[brackets]{\printfield{nameaddon}}}%
\iffieldundef{authortype}%
  {\setunit{\addspace}}%
  {\setunit{\addcomma\space}}}%
     \iffieldundef{authortype}%
       {}%
       {\usebibmacro{authorstrg}%
\setunit{\addspace}}}%
    {\global\undef\bbx@lasthash%
     \usebibmacro{labeltitle}%
     \setunit*{\addspace}}%
  \usebibmacro{date+extrayear}}%
\renewbibmacro*{editor}{%
  \usebibmacro{bbx:editor}{editorstrg}}%
\renewbibmacro*{editor+others}{%
  \usebibmacro{bbx:editor}{editor+othersstrg}}%
\renewbibmacro*{bbx:editor}[1]{%
  \ifboolexpr{%
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {\bibnamedash}%
       {\printnames{editor}%
\setunit{\addspace}%
\usebibmacro{bbx:savehash}}%
     \usebibmacro{#1}%
     \clearname{editor}%
     \setunit{\addspace}}%
    {\global\undef\bbx@lasthash%
     \usebibmacro{labeltitle}%
     \setunit*{\addspace}}%
  \usebibmacro{date+extrayear}}%
\renewbibmacro*{labeltitle}{%
  \iffieldundef{label}%
    {\iffieldundef{shorttitle}%
       {\printfield{title}%
        \clearfield{title}}%
       {\printfield[title]{shorttitle}}}%
    {\printfield{label}}}%
  }{}}%
%    \end{macrocode}
% \iffalse
%</modern-bbx>
% \fi
%
% \subsection{\file{philosophy-verbose.bbx}}
%
% \iffalse
%<*verbose-bbx>
% \fi
%
% \subsubsection{Initial settings}
%
%    \begin{macrocode}
\RequireBibliographyStyle{authortitle}
\RequireBibliographyStyle{philosophy-standard}

\DeclareFieldFormat{edition}{%
  \ifinteger{#1}{%
    \ifdefstring{\bbx@editionformat}{arabic}
      {\mkbibordedition{#1}~\bibstring{edition}}
      {\ifdefstring{\bbx@editionformat}{Roman}%
        {\RN{#1}~\bibstring{edition}}%
        {\ifdefstring{\bbx@editionformat}{romansc}%
          {\textsc{\Rn{#1}}~\bibstring{edition}}%
          {\ifdefstring{\bbx@editionformat}{roman}%
            {\Rn{#1}~\bibstring{edition}}
            {\ifdefstring{\bbx@editionformat}{superscript}%
            {\mkbibsuperscript{#1}}%
            {\optionerror{editionformat}}}}}}}{#1}}%\isdot??

\AtBeginShorthands{%
%    \end{macrocode}
% The annotation field is omitted in the list of shorthands:
%    \begin{macrocode}
  \togglefalse{bbx:annotation}%
%    \end{macrocode}
% In the list of shorthands we always use the shorthand
% for the cross-referenced entries: 
%    \begin{macrocode}
  \DeclareCiteCommand{\bbx@crossref@inbook}%
  {}%
  {\iffieldundef{shorthand}%
    {\usebibmacro{inbook:full}}%
    {\usebibmacro{cite:shorthand}}}%
  {}%
  {}%
\DeclareCiteCommand{\bbx@crossref@incollection}%
  {}%
  {\iffieldundef{shorthand}%
    {\usebibmacro{incollection:full}}%
    {\usebibmacro{cite:shorthand}}}%
  {}%
  {}%
}  
%    \end{macrocode}
% \paragraph{Authors and editors}
%    \begin{macrocode}
\renewbibmacro*{author}{%
  \ifboolexpr{%
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {\bibnamedash}%
       {\printnames{author}%
        \iffieldundef{nameaddon}{}%
        {\setunit{\addspace}%
        \printtext[brackets]{\printfield{nameaddon}}}%
\setunit{\addcomma\space}%
\usebibmacro{bbx:savehash}}%
     \usebibmacro{authorstrg}}%
    {\global\undef\bbx@lasthash}}%

\renewbibmacro*{editor}{%
  \usebibmacro{bbx:editor}{editorstrg}}%
\renewbibmacro*{editor+others}{%
  \usebibmacro{bbx:editor}{editor+othersstrg}}%
\renewbibmacro*{bbx:editor}[1]{%
  \ifboolexpr{%
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }%
    {\usebibmacro{bbx:dashcheck}%
       {\bibnamedash}%
       {\printnames{editor}%
\setunit{\addspace}% #MOD#
        \usebibmacro{bbx:savehash}}%
     \usebibmacro{#1}%
     \clearname{editor}}%
    {\global\undef\bbx@lasthash}}%
%    \end{macrocode}
% \subsubsection{Internal commands for crossreferences}
%    \begin{macrocode}
\newbibmacro*{nodash:author}{%
  \ifboolexpr{%
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }%
    {\printnames{author}%
        \iffieldundef{nameaddon}{}%
        {\setunit{\addspace}%
        \printtext[brackets]{\printfield{nameaddon}}}%
\setunit{\addcomma\space}%
     \usebibmacro{authorstrg}}%
    {\global\undef\bbx@lasthash}}

\newbibmacro*{nodash:editor+others}{%
  \usebibmacro{nodash:bbx:editor}{editor+othersstrg}}%
\newbibmacro*{nodash:bbx:editor}[1]{%
  \ifboolexpr{%
    test \ifuseeditor
    and
    not test {\ifnameundef{editor}}
  }%
    {\printnames{editor}%
\setunit{\addspace}%
     \usebibmacro{#1}%
     \clearname{editor}}%
    {\global\undef\bbx@lasthash}}

\newbibmacro*{nodash:author/editor+others/translator+others}{%
  \ifboolexpr{
    test \ifuseauthor
    and
    not test {\ifnameundef{author}}
  }
    {\usebibmacro{nodash:author}}
    {\ifboolexpr{
       test \ifuseeditor
       and
       not test {\ifnameundef{editor}}
     }
       {\usebibmacro{nodash:editor+others}}
       {\usebibmacro{translator+others}}}}

\renewbibmacro*{relateddate}{%
  \setunit*{\addspace}%
  \printdate\ifdefstring{\bbx@editionformat}{superscript}{\printfield{edition}}{}}
\renewbibmacro*{commarelateddate}{%
  \setunit*{\addcomma\space}%
  \printdate\ifdefstring{\bbx@editionformat}{superscript}{\printfield{edition}}{}}
    
\DeclareBibliographyDriver{book}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit}%
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\DeclareBibliographyDriver{collection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{editor+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit}%
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

\renewbibmacro*{inbook:full}{%
  \usebibmacro{bybookauthor}%
  \newunit\newblock
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit}%
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}

  \renewbibmacro*{incollection:full}{%
  \usebibmacro{maintitle+booktitle}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit}%
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate:article-inbook-incoll}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}


\DeclareBibliographyDriver{manual}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{author/editor}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit\newblock}%
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{type}%
  \newunit
  \printfield{version}%
  \newunit
  \printfield{note}%
  \newunit\newblock
  \printlist{organization}%
  \newunit
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  \usebibmacro{finentry}}
      
\newbibmacro*{usedriver:book}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{nodash:author/editor+others/translator+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byauthor}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit}%
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  }
\newbibmacro*{usedriver:collection}{%
  \usebibmacro{bibindex}%
  \usebibmacro{begentry}%
  \usebibmacro{nodash:editor+others}%
  \setunit{\labelnamepunct}\newblock
  \usebibmacro{maintitle+title}%
  \newunit
  \printlist{language}%
  \newunit\newblock
  \usebibmacro{byeditor+others}%
  \newunit\newblock
  \ifdefstring{\bbx@editionformat}{superscript}{}%
  {\printfield{edition}%
  \newunit}%
  \iffieldundef{maintitle}
    {\printfield{volume}%
     \printfield{part}}
    {}%
  \newunit
  \printfield{volumes}%
  \newunit\newblock
  \usebibmacro{series+number}%
  \newunit\newblock
  \printfield{note}%
  \newunit\newblock
  \usebibmacro{publisher+location+date}%
  \newunit\newblock
  \usebibmacro{chapter+pages}%
  \newunit
  \printfield{pagetotal}%
  \newunit\newblock
  \iftoggle{bbx:isbn}
    {\printfield{isbn}}
    {}%
  \newunit\newblock
  \usebibmacro{doi+eprint+url}%
  \newunit\newblock
  \usebibmacro{addendum+pubstate}%
  \newblock
  \iftoggle{bbx:related}
    {\ifdefstring{\bbx@relatedformat}{semicolon}%
    {\setunit{\addsemicolon\space}}%
    {\setunit{\unspace\space}}%horrible trick
    \usebibmacro{related:init}%
     \usebibmacro{related}}%
    {}%
  \newunit\newblock
  \usebibmacro{pageref}%
  }
\DeclareCiteCommand{\bbx@crossref@inbook}%
  {}%
  {\ifciteseen{%
   \ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}%
  \setunit*{\addcomma\space}\printtext{%
    \printfield[citetitle]{labeltitle}%
      \iftoggle{cbx:commacit}{\setunit{\addcomma\space}}%
   {\setunit{\addspace\midsentence}}%
       \bibstring{cited}}}%
    {\DeclareNameAlias{sortname}{default}%
    \usebibmacro{usedriver:book}}}%
  {}%
  {}%
\DeclareCiteCommand{\bbx@crossref@incollection}%
  {}%
  {\ifciteseen{%
\ifthenelse{\value{listtotal}=2}%
      {\printnames[][-\value{maxnamesincross}]{labelname}}%
      {\printnames[][-\value{minnamesincross}]{labelname}}%
      \setunit{\addspace}%
      \usebibmacro{editorstrg}%
  \setunit*{\addcomma\space}\printtext{%
    \printfield[citetitle]{labeltitle}%
       \iftoggle{cbx:commacit}{\setunit{\addcomma\space}}%
    {\setunit{\addspace\midsentence}}%
        \bibstring{cited}}}%
    {\DeclareNameAlias{sortname}{default}%
    \usebibmacro{usedriver:collection}}}%
  {}%
  {}%
%    \end{macrocode}
% \iffalse
%</verbose-bbx>
% \fi
%
% \subsection{\file{philosophy-classic.cbx}}
%
% \iffalse
%<*classic-cbx>
% \fi
%
% \subsubsection{Initial settings}
%
%    \begin{macrocode}
\RequireCitationStyle{authoryear-comp}

\newtoggle{cbx:scauthorscite}

\DeclareBibliographyOption{scauthorscite}[true]{%
  \settoggle{cbx:scauthorscite}{#1}}

\ExecuteBibliographyOptions{%
  scauthorscite = false,
  citetracker = true,
}

\AtEveryCite{%
  \iftoggle{cbx:scauthorscite}%
   {\let\mkbibnamefamily\mkbibsc%
    \let\mkbibnamegiven\mkbibsc%
    \let\mkbibnameprefix\mkbibsc%
   \let\mkbibnameaffix\mkbibsc}%
   {}}%

%\DeclareNameFormat{labelname}{%
%\bibhyperref{%
%  \ifcase\value{uniquename}%
%    \usebibmacro{name:family}{#1}{#3}{#5}{#7}%
%  \or
%    \ifuseprefix
%      {\usebibmacro{name:given-family}{#1}{#4}{#5}{#8}}%
%      {\usebibmacro{name:given-family}{#1}{#4}{#6}{#8}}%
%  \or
%    \usebibmacro{name:given-family}{#1}{#3}{#5}{#7}%
%  \fi
%  \usebibmacro{name:andothers}}}
\DeclareNameFormat{labelname}{%
  \nameparts{#1}%
\bibhyperref{\ifcase\value{uniquename}%
    \usebibmacro{name:family}
      {\namepartfamily}
      {\namepartgiven}
      {\namepartprefix}
      {\namepartsuffix}%
  \or
    \ifuseprefix
      {\usebibmacro{name:given-family}
        {\namepartfamily}
        {\namepartgiveni}
        {\namepartprefix}
        {\namepartsuffixi}}
      {\usebibmacro{name:given-family}
        {\namepartfamily}
        {\namepartgiveni}
        {\namepartprefixi}
        {\namepartsuffixi}}%
  \or
    \usebibmacro{name:given-family}
      {\namepartfamily}
      {\namepartgiven}
      {\namepartprefix}
      {\namepartsuffix}%
  \fi
  \usebibmacro{name:andothers}}}

\newcommand{\switchclass}[2]{%
  \iffieldequalstr{entrysubtype}{classic}%
    {\usebibmacro{#1}}%
    {\usebibmacro{#2}}}
%    \end{macrocode}
% \subsubsection{Author-title macros}
% Import the \texttt{:AT} macros from the \file{authortitle-comp.cbx} file.
%    \begin{macrocode}
\newbibmacro*{cite:init:AT}{%
  \ifnumless{\value{multicitecount}}{2}
    {\global\boolfalse{cbx:parens}%
     \global\undef\cbx@lasthash}%
    {\iffieldundef{prenote}%
       {}%
       {\global\undef\cbx@lasthash}}}

\newbibmacro*{cite:reinit:AT}{%
  \global\undef\cbx@lasthash}

\newbibmacro*{cite:AT}{%
  \iffieldundef{shorthand}
    {\iffieldequals{namehash}{\cbx@lasthash}
       {\setunit{\compcitedelim}}%
       {\ifnameundef{labelname}
          {}%
          {\printnames{labelname}%
           \setunit{\nametitledelim}}%
        \savefield{namehash}{\cbx@lasthash}}%
     \usebibmacro{cite:title:AT}}
    {\usebibmacro{cite:shorthand}%
     \usebibmacro{cite:reinit:AT}}%
  \setunit{\multicitedelim}}

\newbibmacro*{citetitle:AT}{%
  \iffieldundef{shorthand}
    {\usebibmacro{cite:title:AT}}%
    {\usebibmacro{cite:shorthand}}%
  \setunit{\multicitedelim}}

\newbibmacro*{textcite:AT}{%
  \iffieldequals{namehash}{\cbx@lasthash}
    {\setunit{\compcitedelim}}
    {\ifnameundef{labelname}
       {}%
       {\printnames{labelname}%
        \setunit{%
	  \global\booltrue{cbx:parens}%
	  \addspace\bibopenparen}}%
     \savefield{namehash}{\cbx@lasthash}}%
  \ifnumequal{\value{citecount}}{1}
    {\usebibmacro{prenote}}
    {}%
  \iffieldundef{shorthand}
    {\usebibmacro{cite:title:AT}}%
    {\iftoggle{cbx:shorthandintro}{%
      \ifciteseen{%
       \usebibmacro{cite:shorthand}}%
       {\usebibmacro{shorthandintro}}}%
     {\usebibmacro{cite:shorthand}}}%
  \setunit{%
    \ifbool{cbx:parens}
      {\bibcloseparen\global\boolfalse{cbx:parens}}
      {}%
    \multicitedelim}}

\newbibmacro*{cite:title:AT}{%
  \printtext[bibhyperref]{\printfield[citetitle]{labeltitle}}}

\newbibmacro*{textcite:postnote:AT}{%
  \ifnameundef{labelname}
    {\setunit{%
       \global\booltrue{cbx:parens}%
       \addspace\bibopenparen}}
    {\setunit{\postnotedelim}}%
  \printfield{postnote}%
  \ifthenelse{\value{multicitecount}=\value{multicitetotal}}
    {\setunit{}%
     \printtext{%
       \ifbool{cbx:parens}
	 {\bibcloseparen\global\boolfalse{cbx:parens}}
	 {}}}
    {\setunit{%
       \ifbool{cbx:parens}
	 {\bibcloseparen\global\boolfalse{cbx:parens}}
	 {}%
       \multicitedelim}}}
%    \end{macrocode}
% \subsubsection{Author-year macros}
%    \begin{macrocode}
\newbibmacro*{cite:init:AY}{%
  \ifnumless{\value{multicitecount}}{2}
    {\global\boolfalse{cbx:parens}%
     \global\undef\cbx@lasthash
     \global\undef\cbx@lastyear}
    {\iffieldundef{prenote}
       {}
       {\global\undef\cbx@lasthash
	\global\undef\cbx@lastyear}}}

\newbibmacro*{cite:reinit:AY}{%
  \global\undef\cbx@lasthash
  \global\undef\cbx@lastyear}

\newbibmacro*{cite:AY}{%
  \iffieldundef{shorthand}%
    {\usebibmacro{cite:noshorthand}}%
    {\iftoggle{cbx:shorthandintro}%
    {%
    \ifciteseen{\usebibmacro{cite:shorthand}}%
     {\usebibmacro{cite:noshorthand}%
     \usebibmacro{shorthandintro}}%
     }%
     {\usebibmacro{cite:shorthand}}%
     \usebibmacro{cite:reinit:AY}}%
  \setunit{\multicitedelim}}
    
\newbibmacro*{textcite:AY}{%
  \iffieldequals{namehash}{\cbx@lasthash}%
    {\iffieldundef{shorthand}%noshorthand
       {\ifthenelse{\iffieldequals{labelyear}{\cbx@lastyear}\AND
                    \(\value{multicitecount}=0\OR\iffieldundef{postnote}\)}%
          {\setunit{\addcomma}%
           \usebibmacro{cite:extrayear}}%
          {\setunit{\compcitedelim}%
           \usebibmacro{cite:labelyear+extrayear}%
           \savefield{labelyear}{\cbx@lastyear}}}%
       {\setunit{\compcitedelim}%shorthand
       \iftoggle{cbx:shorthandintro}%
        {\ifciteseen
        {\usebibmacro{cite:shorthand}}%
        {\ifthenelse{\iffieldequals{labelyear}{\cbx@lastyear}\AND
                    \(\value{multicitecount}=0\OR\iffieldundef{postnote}\)}%
          {\setunit{\addcomma}%
           \usebibmacro{cite:extrayear}}%
          {\setunit{\compcitedelim}%
           \usebibmacro{cite:labelyear+extrayear}%
           \savefield{labelyear}{\cbx@lastyear}}%
           \usebibmacro{shorthandintro}}}%
           {\usebibmacro{cite:shorthand}}%
        \global\undef\cbx@lastyear}}%
    {\ifnameundef{labelname}%
       {\iffieldundef{shorthand}%shorthand
          {\usebibmacro{cite:label}%
   \setunit{%
     \global\booltrue{cbx:parens}%
     \addspace\bibopenparen}%
   \ifnumequal{\value{citecount}}{1}%
     {\usebibmacro{prenote}}%
     {\usebibmacro{cite:shorthand}}%
   \usebibmacro{cite:labelyear+extrayear}}%
          {\iftoggle{cbx:shorthandintro}%
          {\ifciteseen%shorthand
          {\usebibmacro{cite:shorthand}}%
          {\usebibmacro{cite:label}%
   \setunit{%
     \global\booltrue{cbx:parens}%
     \addspace\bibopenparen}%
   \ifnumequal{\value{citecount}}{1}%
     {\usebibmacro{prenote}}%
     {\usebibmacro{cite:shorthand}}%
   \usebibmacro{cite:labelyear+extrayear}%
   \usebibmacro{shorthandintro}}}}%
   {\usebibmacro{cite:shorthand}}}%
       {\printnames{labelname}%
\setunit{%
  \global\booltrue{cbx:parens}%
  \addspace\bibopenparen}%
\ifnumequal{\value{citecount}}{1}%
  {\usebibmacro{prenote}}%
  {}%
        \iffieldundef{shorthand}%noshorthand
          {\iffieldundef{labelyear}%
             {\usebibmacro{cite:label}}%
             {\usebibmacro{cite:labelyear+extrayear}}%
           \savefield{labelyear}{\cbx@lastyear}}%
          {\iftoggle{cbx:shorthandintro}%
          {\ifciteseen%
                    {\usebibmacro{cite:shorthand}}%
                    {\iffieldundef{labelyear}%
             {\usebibmacro{cite:label}}%
             {\usebibmacro{cite:labelyear+extrayear}}%
           \savefield{labelyear}{\cbx@lastyear}%
           \usebibmacro{shorthandintro}}%
           \global\undef\cbx@lastyear}%
           {\usebibmacro{cite:shorthand}}}%
        \savefield{namehash}{\cbx@lasthash}}}%
  \setunit{%
    \ifbool{cbx:parens}%
      {\bibcloseparen\global\boolfalse{cbx:parens}}%
      {}%
    \multicitedelim}}%

\newbibmacro*{textcite:postnote:AY}{%
  \usebibmacro{postnote}%
  \ifthenelse{\value{multicitecount}=\value{multicitetotal}}
    {\setunit{}%
     \printtext{%
       \ifbool{cbx:parens}
	 {\bibcloseparen\global\boolfalse{cbx:parens}}
	 {}}}
    {\setunit{%
       \ifbool{cbx:parens}
	 {\bibcloseparen\global\boolfalse{cbx:parens}}
	 {}%
       \multicitedelim}}}
%    \end{macrocode}
% The \texttt{cite:shorthand} is the same for both
% author-title and author-year styles:
%    \begin{macrocode}
\renewbibmacro*{cite:shorthand}{%
  \printtext[bibhyperref]{\printfield{shorthand}}}
%    \end{macrocode}
% If the field \bibfield{entrysubtype} equals to \texttt{classic}
% the citation commands will use the author-title macros:
%    \begin{macrocode}
\renewbibmacro*{cite:init}{%
  \switchclass{cite:init:AT}{cite:init:AY}}
\renewbibmacro*{cite:reinit}{%
  \switchclass{cite:reinit:AT}{cite:reinit:AY}}
\renewbibmacro*{cite}{%
  \switchclass{cite:AT}{cite:AY}}
\renewbibmacro*{textcite}{%
  \switchclass{textcite:AT}{textcite:AY}}
\renewbibmacro*{textcite:postnote}{%
  \switchclass{textcite:postnote:AT}{textcite:postnote:AY}}

\newbibmacro*{cite:noshorthand}{%
\ifthenelse{\ifnameundef{labelname}\OR\iffieldundef{labelyear}}%
       {\usebibmacro{cite:label}%
\setunit{\addspace}%
\usebibmacro{cite:labelyear+extrayear}%
        \usebibmacro{cite:reinit}}%
       {\iffieldequals{namehash}{\cbx@lasthash}%
          {\ifthenelse{\iffieldequals{labelyear}{\cbx@lastyear}\AND
                       \(\value{multicitecount}=0\OR\iffieldundef{postnote}\)}%
             {\setunit{\addcomma}%
              \usebibmacro{cite:extrayear}}%
             {\setunit{\compcitedelim}%
              \usebibmacro{cite:labelyear+extrayear}%
              \savefield{labelyear}{\cbx@lastyear}}}%
          {\printnames{labelname}%
      \setunit{\nameyeardelim}%
           \usebibmacro{cite:labelyear+extrayear}%
           \savefield{namehash}{\cbx@lasthash}%
           \iffieldundef{postnote}%
              {\savefield{labelyear}{\cbx@lastyear}}{}}}}
%    \end{macrocode}
% \subsubsection{Citation commands}
%    \begin{macrocode}
\DeclareCiteCommand*{\cite}
  {\usebibmacro{cite:init}%
   \usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \switchclass{citetitle:AT}{citeyear}}%
  {}
  {\usebibmacro{postnote}}

\DeclareCiteCommand*{\parencite}[\mkbibparens]
  {\usebibmacro{cite:init}%
   \usebibmacro{prenote}}
  {\usebibmacro{citeindex}%
   \switchclass{citetitle:AT}{citeyear}}
  {}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\citetitle}
  {\boolfalse{citetracker}%
   \boolfalse{pagetracker}%
   \usebibmacro{prenote}}
  {\indexfield{indextitle}%
    \printtext[bibhyperref]{\printfield[citetitle]{labeltitle}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand*{\citetitle}
  {\boolfalse{citetracker}%
   \boolfalse{pagetracker}%
   \usebibmacro{prenote}}
  {\indexfield{indextitle}%
    \printtext[bibhyperref]{\printfield[citetitle]{title}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\citeyear}
  {\boolfalse{citetracker}%
   \boolfalse{pagetracker}%
   \usebibmacro{prenote}}
  {\printtext[bibhyperref]{\printfield{year}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\footcitet}[\mkbibfootnote]
  {\usebibmacro{cite:init}}
  {\usebibmacro{citeindex}%
   \usebibmacro{textcite}}
  {}%
  {\usebibmacro{textcite:postnote}}
%    \end{macrocode}
% This command is now deprecated because it is substituted by
% the \bibfield{entrysubtype=classic} mechanism:
%    \begin{macrocode}
\DeclareCiteCommand{\sdcite}
  {\boolfalse{citetracker}%
   \boolfalse{pagetracker}%
   \usebibmacro{prenote}}
  {\indexnames{labelname}%
   \printtext[bibhyperref]{\printnames{labelname}}%
   \setunit{\addcomma\space}%
   \indexfield{indextitle}%
   \printtext[bibhyperref]{\printfield[citetitle]{labeltitle}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}
%    \end{macrocode}
% \iffalse
%</classic-cbx>
% \fi
%
% \subsection{\file{philosophy-modern.cbx}}
%
% \iffalse
%<*modern-cbx>
% \fi
%
% The \sty{modern} style uses the \sty{classic} citation scheme:
%    \begin{macrocode}
\RequireCitationStyle{philosophy-classic}
%    \end{macrocode}
% The \cmd{fullcite} command simply prints the bibliography entry
% supplied by the style used. So we have to redefine this command
% in order to get the same output as that produced in 
% the \sty{philosophy-classic} style:
%    \begin{macrocode}
\DeclareCiteCommand{\fullcite}%
  {\usebibmacro{prenote}}%
  {\setkeys{blx@bib2}{restoreclassic}% 
  \usedriver%
     {\DeclareNameAlias{sortname}{default}}%
     {\thefield{entrytype}}}%
  {\multicitedelim}%
  {\usebibmacro{postnote}}%
%    \end{macrocode}
%
% \iffalse
%</modern-cbx>
% \fi
%
% \subsection{\file{philosophy-verbose.cbx}}
%
% \iffalse
%<*verbose-cbx>
% \fi
%
% \subsubsection{Initial settings}
%    \begin{macrocode}
\RequireCitationStyle{verbose-trad2}

\newtoggle{cbx:scauthorscite}
\newtoggle{cbx:latinemph}
\newtoggle{cbx:commacit}

\DeclareBibliographyOption{scauthorscite}[true]{%
  \settoggle{cbx:scauthorscite}{#1}}
\DeclareBibliographyOption{latinemph}[true]{%
  \settoggle{cbx:latinemph}{#1}}
\DeclareBibliographyOption{commacit}[true]{%
  \settoggle{cbx:commacit}{#1}}

\ExecuteBibliographyOptions{%
  idemtracker=false,
  loccittracker=strict,
  scauthorscite=false,
  latinemph=false,
  commacit=false}

\AtEveryCite{%
%    \end{macrocode}
% The \bibfield{annotation} field is omitted in every citations:
%    \begin{macrocode}
\togglefalse{bbx:annotation}%
%    \end{macrocode}
% Redefine \cmd{mkibid} for every citations when using
% the \opt{latinemph} option:
%    \begin{macrocode}
\iftoggle{cbx:latinemph}{\renewcommand*{\mkibid}{\emph}}{}%
%    \end{macrocode}
% \paragraph{Name formats}
%    \begin{macrocode}
\renewbibmacro*{name:andothers}{%
  \ifboolexpr{%
    test {\ifnumequal{\value{listcount}}{\value{liststop}}}%
    and
    test \ifmorenames
  }%
    {\ifnumgreater{\value{liststop}}{1}%
       {\finalandcomma}%
       {}%
     \andothersdelim\bibstring[\mkibid]{andothers}}%
    {}}%
\renewbibmacro*{list:andothers}{%
  \ifboolexpr{%
    test {\ifnumequal{\value{listcount}}{\value{liststop}}}%
    and
    test \ifmoreitems
  }%
    {\ifnumgreater{\value{liststop}}{1}%
       {\finalandcomma}%
       {}%
     \andmoredelim\bibstring[\mkibid]{andmore}}%
    {}}%
\iftoggle{cbx:scauthorscite}{%
%\DeclareNameFormat{labelname}{%
%\iffootnote{%
%   \let\mkbibnamefamily\mkbibsc%
%   \let\mkbibnamegiven\mkbibsc%
%   \let\mkbibnameprefix\mkbibsc%
%   \let\mkbibnameaffix\mkbibsc}{}%
%  \ifcase\value{uniquename}%
%    \usebibmacro{name:family}{#1}{#3}{#5}{#7}%
%  \or
%    \ifuseprefix
%      {\usebibmacro{name:given-family}{#1}{#4}{#5}{#8}}%
%      {\usebibmacro{name:given-family}{#1}{#4}{#6}{#8}}%
%  \or
%    \usebibmacro{name:given-family}{#1}{#3}{#5}{#7}%
%  \fi
%  \usebibmacro{name:andothers}}%
\DeclareNameFormat{labelname}{%
\iffootnote{%
   \let\mkbibnamefamily\mkbibsc%
   \let\mkbibnamegiven\mkbibsc%
   \let\mkbibnameprefix\mkbibsc%
   \let\mkbibnameaffix\mkbibsc}{}%
  \nameparts{#1}%
  \ifcase\value{uniquename}%
    \usebibmacro{name:family}
      {\namepartfamily}
      {\namepartgiven}
      {\namepartprefix}
      {\namepartsuffix}%
  \or
    \ifuseprefix
      {\usebibmacro{name:given-family}
        {\namepartfamily}
        {\namepartgiveni}
        {\namepartprefix}
        {\namepartsuffixi}}
      {\usebibmacro{name:given-family}
        {\namepartfamily}
        {\namepartgiveni}
        {\namepartprefixi}
        {\namepartsuffixi}}%
  \or
    \usebibmacro{name:given-family}
      {\namepartfamily}
      {\namepartgiven}
      {\namepartprefix}
      {\namepartsuffix}%
  \fi
  \usebibmacro{name:andothers}}
  }{}}%
%\DeclareNameFormat{scdefault}{%
%\iffootnote{%
%   \let\mkbibnamefamily\mkbibsc%
%   \let\mkbibnamegiven\mkbibsc%
%   \let\mkbibnameprefix\mkbibsc%
%   \let\mkbibnameaffix\mkbibsc}{}%
%  \iffirstinits
%    {\usebibmacro{name:given-family}{#1}{#4}{#5}{#7}}%
%    {\usebibmacro{name:given-family}{#1}{#3}{#5}{#7}}%
%  \usebibmacro{name:andothers}}
\DeclareNameFormat{scdefault}{%
\iffootnote{%
   \let\mkbibnamefamily\mkbibsc%
   \let\mkbibnamegiven\mkbibsc%
   \let\mkbibnameprefix\mkbibsc%
   \let\mkbibnameaffix\mkbibsc}{}%
  \nameparts{#1}%
  \ifgiveninits
    {\usebibmacro{name:given-family}
      {\namepartfamily}
      {\namepartgiveni}
      {\namepartprefix}
      {\namepartsuffix}}
    {\usebibmacro{name:given-family}
      {\namepartfamily}
      {\namepartgiven}
      {\namepartprefix}
      {\namepartsuffix}}%
  \usebibmacro{name:andothers}}
%    \end{macrocode}
% \subsubsection{New macros}
%    \begin{macrocode}
\newbibmacro*{cite:opcit}{%
  \printtext[bibhyperlink]{\bibstring[\mkibid]{opcit}}}

\newbibmacro*{cite:loccit}{%
  \printtext{%
    \bibhyperlink{cite\csuse{cbx@lastcite@\thefield{entrykey}}}{%
      \bibstring[\mkibid]{loccit}}}%
  \global\toggletrue{cbx:loccit}}

\renewbibmacro*{cite:ibid}{%
 \ifloccit
   {\usebibmacro{cite:loccit}}{%
  \printtext{%
    \bibhyperlink{cite\csuse{cbx@lastcite@\thefield{entrykey}}}{%
      \bibstring[\mkibid]{ibidem}}}}}%

\renewbibmacro*{cite:title}{%OK
 \ifsingletitle{\usebibmacro{cite:opcit}}{%
  \printtext[bibhyperlink]{%
    \printfield[citetitle]{labeltitle}%
    \iftoggle{cbx:commacit}{\setunit{\addcomma\space}}%
    {\setunit{\addspace\midsentence}}}%
      \bibstring{cited}}}

% \renewbibmacro*{cite:full}{%OK
%  \usebibmacro{cite:full:citepages}%
%  \global\toggletrue{cbx:fullcite}%
%  \printtext[bibhypertarget]{%
%    \usedriver
%      {\iftoggle{cbx:scauthorscite}{%
%      \DeclareNameAlias{sortname}{scdefault}}%
%      {\DeclareNameAlias{sortname}{default}}}%
%      {\thefield{entrytype}}}%
%  \usebibmacro{shorthandintro}}

\renewbibmacro*{cite:full}{%OK
 \iftoggle{cbx:shorthandintro}{%
  \usebibmacro{cite:full:citepages}%
  \global\toggletrue{cbx:fullcite}%
  \printtext[bibhypertarget]{%
    \usedriver
      {\iftoggle{cbx:scauthorscite}{%
      \DeclareNameAlias{sortname}{scdefault}}%
      {\DeclareNameAlias{sortname}{default}}}%
      {\thefield{entrytype}}}%
  \usebibmacro{shorthandintro}}%
  {\usebibmacro{cite:shorthand}}}
  
  
  
\renewbibmacro*{cite:idem}{%
\iftoggle{cbx:scauthorscite}{%
  \bibstring[\mkbibsc]{idem\thefield{gender}}}{%
  \bibstring[\mkibid]{idem\thefield{gender}}}%
  \setunit{\nametitledelim}}

\newbibmacro*{ccite:cite}{%
\usebibmacro{related:clearauthors}%
  \usebibmacro{cite:citepages}%
  \global\togglefalse{cbx:fullcite}%
  \global\togglefalse{cbx:loccit}%
  \bibhypertarget{cite\the\value{instcount}}{%
    \ifciteseen
      {\iffieldundef{shorthand}
         {\usebibmacro{cite:title}%
	  \usebibmacro{cite:save}}
         {\usebibmacro{cite:shorthand}}}
      {\usebibmacro{cite:full}%
       \usebibmacro{cite:save}}}}
%    \end{macrocode}
% \subsubsection{Citation commands}
%    \begin{macrocode}       
\DeclareCiteCommand{\ccite}
{\usebibmacro{prenote}}%
{\usebibmacro{citeindex}%
   \usebibmacro{ccite:cite}}
{\multicitedelim}
{\usebibmacro{cite:postnote}}
\DeclareCiteCommand{\fullcite}
  {\usebibmacro{prenote}}
  {\usedriver
     {\iftoggle{cbx:scauthorscite}%
       {\DeclareNameAlias{sortname}{scdefault}}%
       {\DeclareNameAlias{sortname}{default}}}%
     {\thefield{entrytype}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}
%    \end{macrocode}
% \iffalse
%</verbose-cbx>
% \fi
%
% \subsection{\file{italian-philosophy.lbx}}
%
% \iffalse
%<*italian-lbx>
% \fi
%    \begin{macrocode}
\InheritBibliographyExtras{italian}

\DeclareBibliographyExtras{%
\protected\def\bibrangedash{%
    -\penalty\hyphenpenalty}%
  \protected\def\bibdatedash{\textendash}}%

\NewBibliographyString{origed,cited}

\DeclareBibliographyStrings{%
  inherit            =  {italian},
  nodate             =  {{senza data}{s\adddotspace d\adddot}},
  cited              =  {{cit\adddot}{cit\adddot}},
  opcit              =  {{op\adddotspace cit\adddot}{op\adddotspace cit\adddot}},
  ibidem             =  {{ivi}{ivi}},
  loccit             =  {{ibidem}{ibidem}},
  origed             =  {{ed\adddotspace orig\adddot}{ed\adddotspace orig\adddot}},
  langitalian        =  {{italiano}{it\adddot}},
  editor             =  {{\mkpureparens{a cura di}}{\mkpureparens{a cura di}}},
  editors            =  {{\mkpureparens{a cura di}}{\mkpureparens{a cura di}}},
  backrefpage        =  {{Citato a pagina}{Citato a \bibstring{page}\adddot}},
  backrefpages       =  {{Citato alle pagine}{Citato alle \bibstring{pages}\adddot}},
  pages              =  {{pagine}{\iftoggle{bbx:classical}{pp\adddot}{p\adddot}}},
  columns            =  {{colonne}{\iftoggle{bbx:classical}{coll\adddot}{col\adddot}}},
  lines              =  {{righe}{\iftoggle{bbx:classical}{rr\adddot}{r\adddot}}},
  verses             =  {{versi}{\iftoggle{bbx:classical}{vv\adddot}{v\adddot}}}, 
  section            =  {{sezione}{sez\adddot}},
  sections           =  {{sezioni}{\iftoggle{bbx:classical}{sezz\adddot}{sez\adddot}}},
  paragraphs         =  {{paragrafi}{\iftoggle{bbx:classical}{parr\adddot}{par\adddot}}},
  volumes            =  {{volumi}{\iftoggle{bbx:classical}{voll\adddot}{vol\adddot}}},
  withcommentator    =  {{con commenti di}{con comm\adddot\addabbrvspace di}},
  withannotator      =  {{annotazioni di}{annotazioni di}},
  withintroduction   =  {{introduzione di}{introduzione di}},
  withforeword       =  {{prefazione di}{prefazione di}},
  withafterword      =  {{postfazione di}{postfazione di}},
  reprintas          =  {{ristampato}{rist\adddot}},
% reprintfrom        =  {{}{}}, % FIXME: missing
  translationof      =  {{traduzione di}{trad\adddotspace di}},
  translationas      =  {{traduzione italiana}{trad\adddotspace it\adddot}},
% translationfrom    =  {{}{}}, % FIXME: missing
  reviewof           =  {{Recensione di}{Recensione di}},
% origpubas          =  {{}{}}, % FIXME: missing
% origpubin          =  {{}{}}, % FIXME: missing
% astitle            =  {{}{}}, % FIXME: missing
% bypublisher        =  {{}{}}, % FIXME: missing
  byreviser          =  {{revisione di}{revisione di}}
}
%    \end{macrocode}
% \iffalse
%</italian-lbx>
% \fi
%
% \subsection{\file{english-philosophy.lbx}}
%
% \iffalse
%<*english-lbx>
% \fi
%    \begin{macrocode}
\InheritBibliographyExtras{english}

\DeclareBibliographyExtras{%
\protected\def\bibrangedash{%
    -\penalty\hyphenpenalty}%
  \protected\def\bibdatedash{\textendash}}%

\NewBibliographyString{cited,origed}

\DeclareBibliographyStrings{%
  inherit            =  {english},
  nodate             =  {{no date}{n\adddot d\adddot}},
  cited              =  {{cit\adddot}{cit\adddot}},
  ibidem             =  {{ivi}{ivi}},
  loccit             =  {{ibidem}{ibidem}},
  origed             =  {{orig\adddotspace ed\adddot}{orig\adddotspace ed\adddot}},
  editor             =  {{\mkpureparens{ed\adddot}}{\mkpureparens{ed\adddot}}},
  editors            =  {{\mkpureparens{eds\adddot}}{\mkpureparens{eds\adddot}}},
  reviewof           =  {{Review of}{Review of}},
  translationas       =  {{trans\adddot}{trans\adddot}},
  backrefpage        =  {{cited on  page}{cited on  p\adddot}},
  backrefpages       =  {{cited on  pages}{cited on  pp\adddot}}
  }
%    \end{macrocode}
% \iffalse
%</english-lbx>
% \fi
% \subsection{\file{spanish-philosophy.lbx}}
% Thanks to Eduardo Villegas for these translations.
% \iffalse
%<*spanish-lbx>
% \fi
%    \begin{macrocode}
%
%^^A Thanks to Eduardo Villegas for these translations.
%
\InheritBibliographyExtras{spanish}

\DeclareBibliographyExtras{%
\protected\def\bibrangedash{%
    -\penalty\hyphenpenalty}%
  \protected\def\bibdatedash{\textendash}}%

\NewBibliographyString{origed,cited}

\DeclareBibliographyStrings{%
  inherit            =  {spanish},
  cited              =  {{cit\adddot}{cit\adddot}},
  opcit              =  {{op\adddot cit\adddot}{op\adddot cit\adddot}},
  ibidem             =  {{ivi}{ivi}},
  loccit             =  {{ibidem}{ibidem}},
  origed             =  {{edici\'{o}n original}{ed\adddot orig\adddot}},
  langspanish        =  {{espa\~{n}ol}{es\adddot}}, 
  editor             =  {{\mkpureparens{ed\adddot}}{\mkpureparens{ed\adddot}}},
  editors            =  {{\mkpureparens{ed\adddot}}{\mkpureparens{eds\adddot}}},
  backrefpage        =  {{Citado en la p\'{a}gina}
    {Citado en la \bibstring{page}\adddot}}, %%FIXME: Maiuscola iniziale?
  backrefpages       =  {{Citado en las p\'{a}ginas}
    {Citado en las \bibstring{pages}\adddot}}, %%FIXME: Maiuscola iniziale?
  pages              =  {{p\'aginas}{\iftoggle{bbx:classical}
    {p\'ags\adddot}{p\'ag\adddot}}}, 
  columns            =  {{columnas}{\iftoggle{bbx:classical}{cols\adddot}{col\adddot}}},
  lines              =  {{l\'ineas}{\iftoggle{bbx:classical}{ll\adddot}{l\adddot}}},
  verses             =  {{versos}{\iftoggle{bbx:classical}{vv\adddot}{v\adddot}}},
  volumes            =  {{vol\'uumenes}
    {\iftoggle{bbx:classical}{vols\adddot}{vol\adddot}}},
  withcommentator    =  {{comentarios de}{com\adddot\addabbrvspace de}},
  withannotator      =  {{notas de}{notas de}},
  withintroduction   =  {{introducci\'{o}n de}{intr\adddotspace de}},
  withforeword       =  {{prefacio de}{pref\adddotspace de}},
  withafterword      =  {{postfacio de}{postfacio de}},
  reprintas          =  {{reimpresi\'{o}n}{reimp\adddot}},
  translationof      =  {{traducci\'{o}n al espa\~{n}ol de}{trad\adddotspace de}},
  translationas      =  {{traducido al espa\~{n}ol como}{trad\adddotspace es\adddot}},
  reviewof           =  {{Rese\~{n}a de}{Rese\~{n}a de}}, %%FIXME: Maiuscola iniziale?
  section            =  {{secci\'{o}n}{sec\adddot}},
  sections           =  {{secciones}{\iftoggle{bbx:classical}
    {secs\adddot}{sec\adddot}}},
  byreviser          =  {{revisi\'{o}n de}{rev\adddotspace de}}
}
%    \end{macrocode}
% \iffalse
%</spanish-lbx>
% \fi
% \iffalse
%<*bib>

@INCOLLECTION{corrocher:2009,
  author = {Roberto Corrocher},
  title = {Riflessioni sull'uomo di fronte a nuove sfide},
  pages = {27-42},
  annote = {An \texttt{@incollection} entry. The \texttt{@collection} is automatically
	printed in the bibliography because another \texttt{@incollection}
	has been cited},
  crossref = {Filmed:2009},
  date-added = {2010-03-06 00:26:39 +0100},
  date-modified = {2013-03-15 16:33:22 +0100},
  hyphenation = {italian},
  keywords = {esempio},
  read = {0}
}

@INCOLLECTION{Degani:2009,
  author = {Marta Degani and Elisabetta Adami and Anna Belladelli},
  title = {The Use of Modal Verbs in Interpersonal Contexts: From Semantics
	to Pragmatics},
  pages = {13-54},
  crossref = {Facchinetti:2009},
  date-added = {2009-12-15 16:50:20 +0100},
  date-modified = {2009-12-18 18:10:12 +0100},
  keywords = {esempio}
}

@INCOLLECTION{Facchinetti:2009a,
  author = {Roberta Facchinetti},
  title = {Subjectivity, (non-)subjectivity and intersubjectivity},
  volume = {3},
  pages = {35-44},
  note = {Note},
  crossref = {Facchinetti:2009},
  date-added = {2009-12-15 16:47:44 +0100},
  date-modified = {2012-04-15 17:05:04 +0200},
  keywords = {esempio}
}

@INCOLLECTION{federspil:2009,
  author = {Giovanni Federspil and Roberto Vettor},
  title = {Medicina: un unico metodo e una sola argomentazione?},
  pages = {43-74},
  annote = {An \texttt{@incollection} entry. The \texttt{@collection} is automatically
	printed in the bibliography because another \texttt{@incollection}
	has been cited},
  crossref = {Filmed:2009},
  date-added = {2010-03-06 00:26:39 +0100},
  date-modified = {2013-03-15 16:37:35 +0100},
  hyphenation = {italian},
  keywords = {esempio}
}

@INCOLLECTION{Rossitto:1977,
  author = {Cristina Rossitto},
  title = {Opposizione e non contraddizione nella \emph{Metafisica} di Aristotele},
  pages = {43-69},
  annote = {Note that the \texttt{@collection} data (inherited from the \texttt{crossref}
	field) are printed inside the \texttt{@incollection} entry because
	this is the the only \texttt{@incollection} cited from that \texttt{@collection}},
  crossref = {Berti:1977},
  date-added = {2009-09-29 11:29:32 +0200},
  date-modified = {2013-03-15 16:49:38 +0100},
  hyphenation = {italian},
  keywords = {esempio}
}

@INCOLLECTION{Termini:2007,
  author = {Settimo Termini},
  title = {Vita morte e miracoli di Alan Mathison Turing},
  crossref = {Bartocci:2007},
  date-added = {2009-10-22 14:36:21 +0200},
  date-modified = {2013-03-15 16:53:58 +0100},
  hyphenation = {italian},
  keywords = {esempio}
}

@INBOOK{Spencer:1891b,
  pages = {74-144},
  title = {The Classification of the Sciences},
  volume = {2},
  booktitle = {Scientific, Political, \& Speculative},
  crossref = {Spencer:1891vol2}
}

@BOOK{aristotle:physics,
  title = {Physics},
  publisher = {G. P. Putnam},
  author = {Aristotle},
  annotation = {A \texttt{book} entry with a \texttt{translator} field},
  booktitle = {Physics},
  date = {1929},
  date-added = {2013-03-15 14:22:45 +0100},
  date-modified = {2013-03-15 15:26:26 +0100},
  entrysubtype = {classic},
  hyphenation = {american},
  keywords = {primary,esempio},
  location = {New York},
  shorttitle = {Physics},
  translator = {Wicksteed, P. H. and Cornford, F. M.}
}

@INCOLLECTION{berto:sep-impossible-worlds,
  author = {Berto, Francesco},
  title = {Impossible Worlds},
  booktitle = {The Stanford Encyclopedia of Philosophy},
  editor = {Edward N. Zalta},
  edition = {Fall 2009},
  annote = {An article published in a online ecnyclopedia},
  date = {2009},
  date-modified = {2013-03-15 16:29:59 +0100},
  keywords = {esempio},
  url = {http://plato.stanford.edu/archives/fall2009/entries/impossible-worlds/}
}

@BOOK{Bringhurst:1992,
  title = {The Elements of Typographic Style},
  publisher = {Hartley \& Marks Publisher Inc.},
  author = {Robert Bringhurst},
  booktitle = {The Elements of Typographic Style},
  date = {1991},
  date-added = {2012-04-19 20:54:38 +0200},
  date-modified = {2013-03-13 23:30:27 +0100},
  keywords = {esempio},
  location = {Vancouver, Canada}
}

@ONLINE{clawson:mla,
  annote = {The biblatex-mla files provide support to biblatex, bibtex, and latex
	for citations and Works Cited lists in the style established by the
	Modern Language Association (MLA)},
  author = {James Clawson},
  date = {2010},
  date-added = {2012-04-18 11:51:47 +0200},
  date-modified = {2013-03-13 22:02:08 +0100},
  keywords = {primaria},
  subtitle = {MLA Style Using biblatex},
  title = {\texttt{biblatex-mla}},
  url = {http://mirrors.ctan.org/macros/latex/contrib/biblatex-contrib/biblatex-mla/doc/biblatex-mla.pdf},
  version = {0.95}
}

@BOOKINBOOK{descartes:discours,
  annote = {A book published in a multivolume critical edition},
  author = {René Descartes},
  date = {1897/1913},
  date-added = {2010-03-06 00:26:39 +0100},
  date-modified = {2013-03-15 16:36:37 +0100},
  editor = {Charles Adam and Paul Tannery},
  keywords = {esempio},
  location = {Paris},
  maintitle = {Ouvres de Descartes},
  pages = {1-78},
  title = {Discours de la méthode},
  volume = {6},
  volumes = {12}
}

@mvbook{descartes:oeuvres,
  annote = {A critical multivolume edition},
  author = {René Descartes},
  date = {1897/},
  date-added = {2013-02-25 22:44:19 +0100},
  date-modified = {2013-03-15 16:36:58 +0100},
  editor = {Charles Adam and Paul Tannery},
  hyphenation = {french},
  keywords = {esempio},
  location = {Paris},
  title = {Oeuvres complètes},
  volumes = {13}
}

@BOOK{eco:2004,
  title = {La ricerca della lingua perfetta nella cultura europea},
  publisher = {Laterza},
  author = {Umberto Eco},
  edition = {4},
  booktitle = {La ricerca della lingua perfetta nella cultura europea},
  date = {2004},
  date-added = {2012-04-17 23:58:31 +0200},
  date-modified = {2012-04-21 16:58:15 +0200},
  hyphenation = {italian},
  keywords = {primaria},
  location = {Roma-Bari},
  shorttitle = {La ricerca della lingua perfetta}
}

@BOOK{Frege,
  title = {Die Grundlagen der Arithmetik},
  publisher = {Meiner},
  author = {Frege, Gottlob},
  address = {Hamburg},
  annote = {Note the \texttt{pagination} field, used to change the string preceding
	the \texttt{postnote} argument of the citation commands},
  date = {1988},
  date-modified = {2013-03-15 16:40:09 +0100},
  keywords = {esempio},
  pagination = {line},
  subtitle = {Eine logisch mathematische Untersuchung über den Begriff der Zahl}
}

@ONLINE{glibof:historian,
  annote = {Historian follows the conventions of The Chicago Manual of Style,
	as presented in Turabian’s Manual for Writers},
  author = {Sander Gliboff},
  date = {2010},
  date-added = {2012-04-18 11:49:37 +0200},
  date-modified = {2013-03-13 23:38:14 +0100},
  hyphenation = {english},
  keywords = {primaria},
  subtitle = {A Footnotes-and-Bibliography Style, Following Turabian/Chicago Guidelines:
	For Use with the Biblatex System of Programmable Bibliographies and
	Citations},
  title = {User's Guide to \texttt{Historian}},
  url = {http://mirrors.ctan.org/macros/latex/contrib/biblatex-contrib/biblatex-historian/historian.pdf},
  version = {0.4}
}

@BOOK{guzman:sd,
  title = {Problemática logico-lingüística de la comunicacíon social con el
	pueblo Aymara},
  year = {s.d.},
  author = {Guzmán de Rojas, Iván},
  note = {mimeo},
  addendum = {Con los auspicios del Centro internacional de Investigacíones para
	el Desarrollo de Canada},
  annote = {A work without a pubblication date. The string \texttt{nodate} (localized)
	is automatically printed},
  date-added = {2012-04-17 23:48:05 +0200},
  date-modified = {2013-03-15 16:40:38 +0100},
  keywords = {esempio},
  shorttitle = {Problemática}
}

@BOOK{heidegger:sz,
  title = {Sein und Zeit},
  publisher = {Max Niemeyer Verlag},
  author = {Martin Heidegger},
  edition = {18},
  annote = {Note the \texttt{library} field, use for some details about the first
	edition},
  booktitle = {Sein und Zeit},
  date = {2001},
  date-added = {2012-04-15 18:03:59 +0200},
  date-modified = {2013-03-15 16:41:30 +0100},
  keywords = {esempio,volumesingolo},
  library = {Apparso originariamente nel 1927 nell'annuario diretto da H. Husserl
	\emph{Jahrbuch für Philosophie und phänomenologische Forschung (vol.
	VIII)}},
  location = {Tübingen}
}

@BOOKINBOOK{kant:kpv,
  annotation = {An edition of Kant's \emph{Collected Works}, volume five. This is
	an \texttt{inbook} entry which explicitly refers to the \emph{Critique
	of Practical Reason} only, not to the entire fifth volume. Note the
	\texttt{author} and \texttt{bookauthor} fields in the database file.
	By default, the \texttt{bookauthor} is omitted if the values of the
	\texttt{author} and \texttt{bookauthor} fields are identical},
  author = {Kant, Immanuel},
  bookauthor = {Kant, Immanuel},
  booktitle = {Kritik der praktischen Vernunft. Kritik der Urtheilskraft},
  date = {1968},
  date-added = {2013-02-28 09:42:31 +0100},
  date-modified = {2013-03-13 22:56:41 +0100},
  hyphenation = {german},
  keywords = {esempio},
  location = {Berlin},
  maintitle = {Kants Werke. Akademie Textausgabe},
  pages = {1-163},
  publisher = {Walter de Gruyter},
  shorthand = {KpV},
  shorttitle = {Kritik der praktischen Vernunft},
  title = {Kritik der praktischen Vernunft},
  volume = {5}
}

@BOOKINBOOK{kant:kpv:xref,
  author = {Kant, Immanuel},
  date = {1968},
  date-added = {2013-02-25 22:44:19 +0100},
  date-modified = {2013-03-15 19:27:33 +0100},
  keywords = {esempio},
  pages = {1-163},
  shorttitle = {Kritik der praktischen Vernunft},
  title = {Kritik der praktischen Vernunft},
  volume = {5},
  xref = {kant:werke}
}

@BOOKINBOOK{kant:ku,
  annotation = {An edition of Kant's \emph{Collected Works}, volume five. This is
	an \texttt{inbook} entry which explicitly refers to the \emph{Critique
	of Judgment} only, not to the entire fifth volume},
  author = {Kant, Immanuel},
  bookauthor = {Kant, Immanuel},
  booktitle = {Kritik der praktischen Vernunft. Kritik der Urtheilskraft},
  date = {1968},
  date-added = {2013-02-25 22:44:19 +0100},
  date-modified = {2013-03-13 22:57:07 +0100},
  hyphenation = {german},
  keywords = {esempio},
  location = {Berlin},
  maintitle = {Kants Werke. Akademie Textausgabe},
  pages = {165-485},
  publisher = {Walter de Gruyter},
  shorthand = {KU},
  title = {Kritik der Urtheilskraft},
  volume = {5}
}

@BOOKINBOOK{kant:ku:xref,
  author = {Kant, Immanuel},
  date = {1968},
  date-added = {2013-02-28 09:42:34 +0100},
  date-modified = {2013-03-15 19:27:38 +0100},
  hyphenation = {german},
  keywords = {esempio},
  pages = {165-485},
  title = {Kritik der Urtheilskraft},
  volume = {5},
  xref = {kant:werke}
}

@mvbook{kant:werke,
  author = {Kant, Immanuel},
  booktitle = {Kants Werke. Akademie Textausgabe},
  date = {1968},
  date-added = {2010-03-06 00:26:39 +0100},
  date-modified = {2013-03-15 14:01:45 +0100},
  hyphenation = {german},
  keywords = {esempio, modern},
  location = {Berlin},
  maintitle = {Kants Werke. Akademie Textausgabe},
  publisher = {Walter de Gruyter},
  shorthand = {KW},
  title = {Kants Werke. Akademie Textausgabe},
  volumes = {9}
}

@mvbook{knuth:ct,
  annotation = {A five-volume book cited as a whole. This is a \texttt{book} entry,
	note the \texttt{volumes} field},
  author = {Knuth, Donald E.},
  date = {1984/1986},
  date-added = {2013-03-14 10:05:39 +0100},
  date-modified = {2013-03-14 10:05:39 +0100},
  hyphenation = {american},
  indexsorttitle = {Computers & Typesetting},
  location = {Reading, Mass.},
  publisher = {Addison-Wesley},
  sorttitle = {Computers & Typesetting},
  sortyear = {1984-0},
  title = {Computers \& Typesetting},
  volumes = {5}
}

@BOOKINBOOK{knuth:ct:a,
  annotation = {The first volume of a five-volume book. Note the \texttt{sorttitle}
	and \texttt{sortyear} fields. We want this volume to be listed after
	the entry referring to the entire five-volume set. Also note the
	\texttt{indextitle} and \texttt{indexsorttitle} fields. Indexing
	packages that don't generate robust index entries require some control
	sequences to be protected from expansion},
  author = {Knuth, Donald E.},
  date = {1984},
  date-added = {2013-03-14 10:05:39 +0100},
  date-modified = {2013-03-14 10:05:39 +0100},
  hyphenation = {american},
  indexsorttitle = {The TeXbook},
  indextitle = {\protect\TeX book, The},
  location = {Reading, Mass.},
  maintitle = {Computers \& Typesetting},
  publisher = {Addison-Wesley},
  shorttitle = {\TeX book},
  sorttitle = {Computers & Typesetting A},
  sortyear = {1984-1},
  title = {The \TeX book},
  volume = {A}
}

@BOOKINBOOK{knuth:ct:b,
  annotation = {The second volume of a five-volume book. Note the \texttt{sorttitle}
	and \texttt{sortyear} fields. Also note the \texttt{indexsorttitle}
	field},
  author = {Knuth, Donald E.},
  date = {1986},
  date-added = {2013-03-14 10:05:39 +0100},
  date-modified = {2013-03-14 10:05:39 +0100},
  hyphenation = {american},
  indexsorttitle = {TeX: The Program},
  location = {Reading, Mass.},
  maintitle = {Computers \& Typesetting},
  publisher = {Addison-Wesley},
  shorttitle = {\TeX},
  sorttitle = {Computers & Typesetting B},
  sortyear = {1986-1},
  title = {\TeX: The Program},
  volume = {B}
}

@BOOKINBOOK{knuth:ct:c,
  annotation = {The third volume of a five-volume book. Note the \texttt{sorttitle}
	and \texttt{sortyear} fields as well as the \texttt{indextitle} field},
  author = {Knuth, Donald E.},
  date = {1986},
  date-added = {2013-03-14 10:05:39 +0100},
  date-modified = {2013-03-14 10:05:39 +0100},
  hyphenation = {american},
  indextitle = {METAFONTbook, The},
  location = {Reading, Mass.},
  maintitle = {Computers \& Typesetting},
  publisher = {Addison-Wesley},
  shorttitle = {METAFONTbook},
  sorttitle = {Computers & Typesetting C},
  sortyear = {1986-2},
  title = {The METAFONTbook},
  volume = {C}
}

@BOOKINBOOK{knuth:ct:d,
  annotation = {The fourth volume of a five-volume book. Note the \texttt{sorttitle}
	and \texttt{sortyear} fields},
  author = {Knuth, Donald E.},
  date = {1986},
  date-added = {2013-03-14 10:05:39 +0100},
  date-modified = {2013-03-14 10:05:39 +0100},
  hyphenation = {american},
  location = {Reading, Mass.},
  maintitle = {Computers \& Typesetting},
  publisher = {Addison-Wesley},
  shorttitle = {METAFONT},
  sorttitle = {Computers & Typesetting D},
  sortyear = {1986-3},
  title = {METAFONT: The Program},
  volume = {D}
}

@BOOKINBOOK{knuth:ct:e,
  annotation = {The fifth volume of a five-volume book. Note the \texttt{sorttitle}
	and \texttt{sortyear} fields},
  author = {Knuth, Donald E.},
  date = {1986},
  date-added = {2013-03-14 10:05:39 +0100},
  date-modified = {2013-03-14 10:05:39 +0100},
  hyphenation = {american},
  location = {Reading, Mass.},
  maintitle = {Computers \& Typesetting},
  publisher = {Addison-Wesley},
  sorttitle = {Computers & Typesetting E},
  sortyear = {1986-4},
  title = {Computer Modern Typefaces},
  volume = {E}
}

@mvbook{comenio:oo,
  annote = {This author is known with his Latin name, given in the \texttt{nameaddon}
	field},
  author = {Jan Amos Komensky},
  booktitle = {Opera Omnia},
  date = {1969},
  date-added = {2012-04-19 20:20:03 +0200},
  date-modified = {2013-03-15 16:32:24 +0100},
  keywords = {esempio},
  location = {Praga},
  nameaddon = {Comenio},
  title = {Opera Omnia}
}

@ONLINE{kime:biber,
  author = {Philip Kime and François Charette},
  title = {\texttt{biber}},
  subtitle = {A backend bibliography processor for biblatex},
  date = {2016},
  hyphenation = {english},
  keywords = {primaria},
  url = {http://biblatex-biber.sourceforge.net},
  version = {2.5}
}

@ONLINE{lehman:biblatex,
  annote = {This document is a systematic reference manual for the \texttt{biblatex}
	package. Look at the sample documents which ship with \texttt{biblatex}
	to get a first impression.},
  author = {Philipp Lehman},
  booktitle = {The \textsf{biblatex} package},
  date = {2011},
  date-added = {2009-10-13 18:52:07 +0200},
  date-modified = {2013-03-13 23:38:26 +0100},
  hyphenation = {english},
  keywords = {primaria},
  subtitle = {Programmable Bibliographies and Citations},
  title = {The \texttt{biblatex} package},
  url = {http://mirrors.ctan.org/macros/latex/contrib/biblatex/doc/biblatex.pdf},
  version = {1.7}
}

@BOOK{Lobacevskij:1994,
  title = {Nuovi principi della geometria},
  publisher = {Bollati Boringhieri},
  author = {Nikolaj Ivanovi\v{c} Loba\v{c}evskij},
  editor = {Lucio Lombarto Radice},
  annote = {An entry typeset using the depreciated \texttt{orig-} fields mechanism},
  booktitle = {Nuovi principi della geometria},
  date = {1994},
  date-added = {2013-03-14 12:51:03 +0100},
  date-modified = {2013-03-15 16:42:38 +0100},
  foreword = {Evandro Agazzi},
  keywords = {esempio},
  location = {Torino},
  options = {origed},
  origdate = {1835},
  subtitle = {Con una teoria completa delle parallele}
}

@ARTICLE{Moore:1903:ORIGFIELDS,
  author = {George Edward Moore},
  title = {The refutation of idealism},
  pages = {433-453},
  number = {12},
  month = {5},
  annote = {An entry typeset using the depreciated \texttt{orig-} fields mechanism},
  date = {1903},
  date-added = {2010-03-06 00:26:39 +0100},
  date-modified = {2013-03-15 16:43:29 +0100},
  hyphenation = {english},
  journaltitle = {Mind},
  keywords = {esempio},
  origdate = {1969},
  origlocation = {Torino},
  origpublisher = {UTET},
  origtitle = {La confutazione dell'idealismo},
  series = {N.S.},
  usera = {Il Neoempirismo},
  userb = {a cura di Alberto Pasquinelli},
  userc = {35-61}
}

@ARTICLE{Mori:2008,
  author = {Lapo F. Mori},
  title = {Gestire la bibliografia con \LaTeX},
  pages = {37-51},
  number = {6},
  month = {10},
  annote = {An article entry},
  booktitle = {Gestire la bibliografia con \LaTeX},
  date = {2008},
  date-added = {2009-10-13 13:50:34 +0200},
  date-modified = {2013-03-15 16:43:37 +0100},
  hyphenation = {italian},
  journaltitle = {ArsTeXnica},
  keywords = {primaria}
}

@BOOK{pantieri:artelatex,
  title = {L'arte di scrivere con \LaTeX},
  author = {Lorenzo Pantieri and Tommaso Gordini},
  annote = {The most popular italian guide to \LaTeX. A little masterpiece of
	style and typesetting},
  booktitle = {L'arte di scrivere con \LaTeX},
  date = {2011},
  date-added = {2010-03-06 00:26:39 +0100},
  date-modified = {2013-03-13 22:04:30 +0100},
  foreword = {Enrico Gregorio},
  hyphenation = {italian},
  keywords = {primaria},
  subtitle = {Un'introduzione a \LaTeX},
  url = {http://www.lorenzopantieri.net/LaTeX_files/ArteLaTeX.pdf}
}

@BOOK{Poincare:1968-ITA,
  title = {La scienza e l'ipotesi},
  publisher = {Bompiani},
  author = {Jules-Henri Poincaré},
  editor = {Corrado Sinigaglia},
  note = {testo greco a fronte},
  booktitle = {La science et l'hypothèse},
  date = {2003},
  date-modified = {2013-03-15 19:07:03 +0100},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Milano}
}

@BOOK{Poincare:1968-ORIG,
  title = {La science et l'hypothèse},
  publisher = {Flammarion},
  author = {Jules-Henri Poincaré},
  annote = {A book entry followed by its translation, cross-referenced in the
	\texttt{related} field},
  booktitle = {La science et l'hypothèse},
  date = {1968},
  date-added = {2010-03-05 16:18:11 +0100},
  date-modified = {2013-03-15 19:07:49 +0100},
  keywords = {esempio},
  location = {Paris},
  related = {Poincare:1968-ITA}
}

@BOOK{popper-logik,
  title = {Logik der Forschung},
  publisher = {Springer},
  author = {Karl R. Popper},
  annote = {A book entry followed by two differents translations, cross-referenced
	in the \texttt{related} (biber 1.6 required)},
  booktitle = {Logik der Forschung},
  date = {1934},
  date-added = {2013-03-01 17:50:26 +0100},
  date-modified = {2013-03-15 16:46:51 +0100},
  keywords = {esempio},
  location = {Wien},
  related = {popper-logik:ing},
  timestamp = {2012.04.25}
}

@BOOK{popper-logik:ing,
  title = {The Logic of Scientific Discovery},
  publisher = {Hutchinson},
  author = {Karl R. Popper},
  edition = {3},
  booktitle = {The Logic of Scientific Discovery},
  date = {1959},
  date-added = {2013-03-01 17:55:40 +0100},
  date-modified = {2013-03-15 16:48:11 +0100},
  keywords = {primaria,popper},
  location = {London},
  related = {popper-logik:ita},
  relatedstring={it. trans.},
  timestamp = {2012.04.25}
}

@BOOK{popper-logik:ita,
  title = {Logica della scoperta scientifica},
  publisher = {Einaudi},
  author = {Karl R. Popper},
  edition = {3},
  date = {1998},
  date-added = {2013-03-01 17:50:46 +0100},
  date-modified = {2013-03-15 16:48:21 +0100},
  hyphenation = {italian},
  keywords = {primaria,popper},
  location = {Torino},
  timestamp = {2012.04.25}
}

@BOOKINBOOK{Reale1987,
  address = {Milano},
  annote = {A book published in a multivolume work. Note the \texttt{titleaddon}
	field, used for the details about the chapter title},
  author = {Giovanni Reale},
  date = {1987},
  date-modified = {2013-03-15 16:48:31 +0100},
  edition = {5},
  hyphenation = {italian},
  keywords = {esempio},
  maintitle = {Storia della filosofia antica},
  pages = {458-493},
  publisher = {Vita e Pensiero},
  title = {Dalle origini a Socrate},
  titleaddon = {Appendice seconda: ``Precisazioni sulle caratteristiche fondamentali
	del concetto greco di filosofia''},
  volume = {1}
}

@mvbook{Spencer:1891,
  annote = {A multivolume work},
  author = {Herbert Spencer},
  date = {1891},
  date-modified = {2013-03-15 16:53:06 +0100},
  keywords = {esempio},
  location = {Edinburgh},
  publisher = {Williams {and} Norgate},
  title = {Essays},
  volumes = {3}
}

@book{Spencer:1891vol2,
  author = {Herbert Spencer},
  date = {1891},
  keywords = {esempio},
  location = {Edinburgh},
  maintitle = {Essays},
  publisher = {Williams {and} Norgate},
  title = {Scientific, Political, \& Speculative},
  volume = {2}
}

@INCOLLECTION{Valbusa:2007,
  author = {Ivan Valbusa},
  title = {Psicologia e sistema in Alsted e in Wolff},
  booktitle = {Christian Wolff tra psicologia empirica e psicologia razionale},
  publisher = {Georg Olms Verlag},
  editor = {Ferdinando Luigi Marcolungo},
  date = {2007},
  date-added = {2009-09-27 23:17:07 +0200},
  date-modified = {2009-10-13 13:16:37 +0200},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Hildesheim and Zürich and London}
}

@ONLINE{wassenhoven:dw,
  annote = {A small collection of styles for the biblatex package. It was designed
	for citations in the Humanities and offers some features that are
	not provided by the standard biblatex styles.},
  author = {Dominik Waßenhoven},
  date = {2011},
  date-added = {2013-03-13 21:58:04 +0100},
  date-modified = {2013-03-13 22:05:36 +0100},
  keywords = {primaria},
  title = {\texttt{biblatex-dw}},
  url = {http://mirrors.ctan.org/macros/latex/contrib/biblatex-contrib/biblatex-dw/doc/biblatex-dw.pdf},
  version = {1.4}
}

@COLLECTION{Bartocci:2007,
  annote = {A collection with four authors},
  booksubtitle = {Protagonisti del '900 da Hilbert a Wiles},
  booktitle = {Vite matematiche},
  date = {2007},
  date-added = {2009-10-20 17:17:52 +0200},
  date-modified = {2013-03-15 16:29:20 +0100},
  editor = {Claudio Bartocci and Renato Betti and Angelo Guerraggio and Roberto
	Lucchetti},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Milano},
  publisher = {Springer-Verlag Italia},
  title = {Vite matematiche}
}

@COLLECTION{mate_einaudi:2007,
  booktitle = {La matematica},
  date = {2007/2011},
  date-added = {2012-04-15 17:10:54 +0200},
  date-modified = {2013-03-13 23:30:00 +0100},
  editor = {Claudio Bartocci and Piergiorgio Odifreddi},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Torino},
  publisher = {Einaudi},
  title = {La matematica},
  volumes = {4}
}

@COLLECTION{Berti:1977,
  annote = {A collection with one author},
  booktitle = {La contraddizione},
  date = {1977},
  date-added = {2009-09-30 19:34:48 +0200},
  date-modified = {2013-03-15 16:29:45 +0100},
  editor = {Enrico Berti},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Roma},
  publisher = {Città Nuova},
  title = {La contraddizione}
}

@COLLECTION{Filmed:2009,
  annote = {A collection with four editors. The list is automatically truncated
	in the citations},
  booktitle = {Filosofia delle medicina},
  date = {2009},
  date-added = {2009-09-27 23:05:08 +0200},
  date-modified = {2013-03-15 16:37:44 +0100},
  editor = {Pierdaniele Giaretta and Antonio Moretto and Gian Franco Gensini
	and Marco Trabucchi},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Bologna},
  publisher = {il Mulino},
  subtitle = {Metodo, modelli, cura ed errori},
  title = {Filosofia delle medicina},
  volumes = {2}
}

@COLLECTION{Pasquinelli:1969,
  booktitle = {Il Neoempirismo},
  date = {1969},
  date-added = {2009-09-27 01:21:58 +0200},
  date-modified = {2013-03-15 16:44:07 +0100},
  editor = {Alberto Pasquinelli},
  hyphenation = {italian},
  keywords = {esempio},
  location = {Torino},
  publisher = {UTET},
  title = {Il Neoempirismo}
}

@MVREFERENCE{britannica,
  annote = {A multivolume encyclopedia. Note the \texttt{useeditor=false} option
	and \texttt{indextitle} field},
  booktitle = {The New Encyclopædia Britannica},
  date = {2003},
  date-added = {2010-03-10 17:46:47 +0100},
  date-modified = {2013-03-15 16:31:11 +0100},
  edition = {15},
  editor = {Preece, Warren E.},
  hyphenation = {british},
  indextitle = {Encyclopædia Britannica, The New},
  keywords = {esempio},
  label = {EB},
  location = {Chicago, Ill.},
  options = {useeditor=false},
  publisher = {Encyclopædia Britannica},
  shorttitle = {Encyclopædia Britannica},
  sorttitle = {Encyclopædia Britannica},
  title = {The New Encyclopædia Britannica},
  volumes = {32}
}

@COLLECTION{Facchinetti:2009,
  booktitle = {Studies on English Modality},
  date = {2009},
  date-added = {2009-12-15 16:13:17 +0100},
  date-modified = {2012-04-15 17:02:57 +0200},
  editor = {Anastasios Tsangalidis and Roberta Facchinetti},
  keywords = {esempio},
  location = {Bern},
  publisher = {Peter Lang},
  title = {Studies on English Modality}
}

@REFERENCE{SEP,
  bdsk-url-1 = {http://plato.stanford.edu/},
  booktitle = {The Stanford Encyclopedia of Philosophy},
  date = {2009},
  date-added = {2010-04-12 14:15:35 +0200},
  date-modified = {2010-04-12 16:35:03 +0200},
  editor = {Zalta, Edward N.},
  keywords = {esempio},
  label = {SEP},
  options = {useeditor=false},
  sorttitle = {Stanford Encyclopedia of Philosophy},
  title = {The Stanford Encyclopedia of Philosophy},
  url = {http://plato.stanford.edu/}
}

@ONLINE{ctan,
  annote = {Note the \texttt{urldate} field and the \texttt{label} field, used
	for the citations.},
  bdsk-url-1 = {http://www.ctan.org},
  date = {2006},
  date-added = {2011-06-02 17:33:32 +0200},
  date-modified = {2013-03-15 16:35:26 +0100},
  hyphenation = {american},
  keywords = {esempio, web},
  label = {CTAN},
  subtitle = {The Comprehensive TeX Archive Network},
  title = {CTAN},
  url = {http://www.ctan.org},
  urldate = {2006-10-01}
}

@ONLINE{guit:sito,
  annote = {A Web site},
  bdsk-url-1 = {http://www.guitex.org},
  date = {2012},
  date-added = {2012-04-21 16:52:51 +0200},
  date-modified = {2013-03-15 16:40:18 +0100},
  hyphenation = {italian},
  keywords = {esempio, web},
  title = {GuIT. Gruppo degli Utilizzatori Italiani di \TeX},
  url = {http://www.guitex.org},
  urldate = {2012-01-15}
}
%</bib>
% \fi
% \Finale
