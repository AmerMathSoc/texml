%%
%% This is file `amsbooktoc.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% amsbooktoc.dtx 
%% 
\NeedsTeXFormat{LaTeX2e}[1995/06/01]% LaTeX date must be June 1995 or later
\ProvidesPackage{amsbooktoc}[2012/09/13 v1.04 reformat monograph t-of-c]
\newdimen\@maxchapterwidth
\def\maxchapters#1{\setbox0\hbox{#1}\@maxchapterwidth\wd\z@}
\maxchapters{9}
\newdimen\@maxsectionwidth
\newdimen\@maxbaresectionwidth
\newif\if@tocSsign  \@tocSsignfalse
\let\@tocSsign\@empty
\def\tocSsign{\@tocSsigntrue}
\def\notocSsign{\@tocSsignfalse}
\notocSsign
\newif\if@breakathyphensokay  \@breakathyphensokaytrue
\def\NoBreakAtHyphens{\@breakathyphensokayfalse}
\def\maxsections#1{\setbox0\hbox{#1}\@maxbaresectionwidth\wd\z@}
\maxsections{9}
\newdimen\@maxsubsectionwidth
\def\maxsubsections#1{\setbox0\hbox{#1}\@maxsubsectionwidth\wd\z@}
\maxsubsections{9}
\newdimen\@maxsubsubsectionwidth
\def\maxsubsubsections#1{\setbox0\hbox{#1}\@maxsubsubsectionwidth\wd\z@}
\maxsubsubsections{9}
\def\@tocline#1#2#3#4#5#6#7{\relax
  \ifnum #1>\c@tocdepth % then omit
  \else
    \par \addpenalty\@secpenalty\addvspace{#2}%
    \begingroup \hyphenpenalty\@M
    \@ifempty{#4}{%
      \@tempdima\csname r@tocindent\number#1\endcsname\relax
    }{%
      \@tempdima#4\relax
    }%
    \parindent\z@ \leftskip#3\relax \advance\leftskip\@tempdima\relax
    \rightskip\@pnumwidth plus.2\hsize \parfillskip-\@pnumwidth
    \if@breakathyphensokay \exhyphenpenalty-100 \fi
    #5\leavevmode\hskip-\@tempdima #6\unskip\nobreak\relax
    \hfil\hbox to\@pnumwidth{\@tocpagenum{#7}}\par
    \nobreak
    \endgroup
  \fi}
\def\@alignondot#1.#2.#3.#4.#5\@sentinel{%
  \llap{\@tocSsign#1}%
  \@ifnotempty{#2}{.#2\@ifnotempty{#3}{.#3\@ifnotempty{#4}{.#4}}}}
\renewcommand{\tocchapter}[3]{%
  \indentlabel{\@ifnotempty{#2}{%
    \hbox to \csname r@tocindent0\endcsname{%
      \ignorespaces#1 #2.\hfil}}}\ignorespaces#3}
\def\l@chapter{\@tocline{0}{8pt plus1pt}{0pt}{}{}}
\let\tocpart\tocchapter
\def\l@part#1#2{\@tocline{-1}{12pt plus2pt}{0pt}{}{\bfseries}{#1}{}}
\newif\if@tocbaresection \@tocbaresectiontrue
\renewcommand{\tocsection}[3]{%
  \indentlabel{\@ifnotempty{#2}{%
    \if@tocSsign \let\@tocSsign\S \fi
    \hbox to \csname r@tocindent1\endcsname{%
      \if@tocbaresection \kern\@maxsectionwidth
      \else \kern\@maxchapterwidth
            \if@tocSsign \phantom{\S}\fi
      \fi
      \@alignondot#2....\@sentinel.\hfil}}}\ignorespaces#3}
\def\l@section{\@tocline{1}{3\p@\@plus\p@\@minus\p@}{1pc}{}{}}
\newcommand{\formatsectionwithchapter}{%
  \global\@tocbaresectionfalse
  \renewcommand\thesection{\arabic{chapter}.\arabic{section}}}
\renewcommand{\tocsubsection}[3]{%
  \indentlabel{\@ifnotempty{#2}{%
    \let\@tocSsign\@empty
    \hbox to \csname r@tocindent2\endcsname{%
      \@xp\kern\csname r@tocindent1\endcsname
      \if@tocbaresection \kern\@maxbaresectionwidth
      \else \kern\@maxchapterwidth
      \fi
      \@alignondot#2....\@sentinel.\hfil}}}\ignorespaces#3}
\def\l@subsection{\@tocline{2}{0pt}{1pc}{}{}}
\renewcommand{\tocsubsubsection}[3]{%
  \indentlabel{\@ifnotempty{#2}{%
    \let\@tocSsign\@empty
    \hbox to \csname r@tocindent3\endcsname{%
      \@xp\kern\csname r@tocindent1\endcsname
      \if@tocbaresection \kern\@maxbaresectionwidth
      \else \kern\@maxchapterwidth
      \fi
      \kern\@maxsubsectionwidth
      \@alignondot#2....\@sentinel.\hfil}}}#3}
\def\l@subsubsection{\@tocline{3}{0pt}{1pc}{}{}}
\DeclareRobustCommand{\resettocindent}[2]{%
  \setbox0\hbox{#2\unskip\kern.6em}%
  \@xp\xdef\csname r@tocindent#1\endcsname{\the\wd\z@}}
\newdimen\@tocnumskip
\newdimen\@maxfigureswidth
\newif\if@tocChapterName  \@tocChapterNametrue
\def\notocChapterName{\@tocChapterNamefalse}
\AtBeginDocument{%
  \setbox0\hbox{0}\@tocnumskip\wd\z@
  \setbox0\hbox{%
    \if@tocChapterName Chapter \fi \kern\@maxchapterwidth.\kern\@tocnumskip}%
  \@xp\xdef\csname r@tocindent0\endcsname{\the\wd\z@}%
  \setbox0\hbox{\if@tocSsign\S\fi\kern\@maxbaresectionwidth}%
  \@maxsectionwidth\wd\z@
  \setbox0\hbox{%
    \if@tocSsign\S\fi
    \if@tocbaresection
    \else \kern\@maxchapterwidth.\relax
    \fi
    \kern\@maxsectionwidth.\kern\@tocnumskip}%
  \@xp\xdef\csname r@tocindent1\endcsname{\the\wd\z@}%
  \setbox0\hbox{\@xp\kern\csname r@tocindent1\endcsname
    \if@tocbaresection
    \else \kern\@maxchapterwidth.\relax
    \fi
    \kern\@maxsectionwidth.\kern\@maxsubsectionwidth.\kern\@tocnumskip}%
  \@xp\xdef\csname r@tocindent2\endcsname{\the\wd\z@}%
  \setbox0\hbox{\@xp\kern\csname r@tocindent2\endcsname
    \if@tocbaresection
    \else \kern\@maxchapterwidth.\relax
    \fi
    \kern\@maxsectionwidth.\kern\@maxsubsectionwidth.%
    \kern\@maxsubsubsectionwidth.\kern\@tocnumskip}%
  \@xp\xdef\csname r@tocindent3\endcsname{\the\wd\z@}%
  \setbox0\hbox{%
    \kern\@maxchapterwidth.\kern\@maxbaresectionwidth.\kern2\@tocnumskip}%
  \@maxfigureswidth\wd\z@
  \def\l@figure{\@tocline{0}{3pt plus2pt}{0pt}{\@maxfigureswidth}{}}%
  \let\l@table\l@figure%
  \setbox0\hbox{\kern1.5pc 999}
  \renewcommand{\@pnumwidth}{\wd\z@}
  \renewcommand{\@tocrmarg}{\wd\z@}
  }
\endinput
%%
%% End of file `amsbooktoc.sty'.
